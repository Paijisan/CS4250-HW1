<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="screen-orientation" content="portrait">
    <meta name="x5-orientation" content="portrait">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://m.bjnews.com.cn/detail/161769822515511.html" />
    <meta property="og:title" content="习近平总书记最新报道集" />
    <meta property="og:description" content="习近平总书记最新报道集" />
        <meta property="og:image" content="https://media.bjnews.com.cn/image/2021/04/06/5043540819420717803.jpg?x-oss-process=image/resize,w_200/quality,q_60" />
        <title>
        习近平总书记最新报道集    </title>
    <!-- <script type="text/javascript" src="https://static.bjnews.com.cn/www/v5/js/jquery-3.3.1.min.js"></script> -->
    <script type="text/javascript" src="https://static.bjnews.com.cn/common/js/jquery.js"></script>
    <script>
        ! function (e, t) {
            function n () {
                var n = l.getBoundingClientRect().width
                t = t || 540, n > t && (n = t)
                var i = 100 * n / e
                r.innerHTML = "html{font-size:" + i + "px;}"
            }
            var i, d = document,
                o = window,
                l = d.documentElement,
                r = document.createElement("style")
            if (l.firstElementChild) l.firstElementChild.appendChild(r)
            else {
                var a = d.createElement("div")
                a.appendChild(r), d.write(a.innerHTML), a = null
            }
            n(), o.addEventListener("resize", function () {
                clearTimeout(i), i = setTimeout(n, 300)
            }, !1), o.addEventListener("pageshow", function (e) {
                e.persisted && (clearTimeout(i), i = setTimeout(n, 300))
            }, !1), "complete" === d.readyState ? d.body.style.fontSize = "16px" : d.addEventListener(
                "DOMContentLoaded",
                function (e) {
                    d.body.style.fontSize = "16px"
                }, !1)
        }(750, 750);
    </script>
    <link rel="stylesheet" href="https://static.bjnews.com.cn/wap/css/z3/base.css">
    <link rel="stylesheet" href="/wap/css/z3/index.css?v=4" />
    <link rel="stylesheet" href="https://static.bjnews.com.cn/wap/css/z3/mobile.css" />
    <link rel="stylesheet" href="https://static.bjnews.com.cn/wap/css/z3/detailBtn.css?v=2" />
    <link rel="stylesheet" href="https://static.bjnews.com.cn/wap/css/z3/swiper-bundle.min.css">
    <script src="https://m.bjnews.com.cn/js/video.min.js"></script>
    <link rel="stylesheet" href="https://m.bjnews.com.cn/css/video-js.min.css">

    <style>
        * {
            -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
        }
        /* .vjs-poster{ border-radius: 0.16rem;width: 6.3rem;position: relative;left: -0.02rem;height: 3.6rem;}
        .lunbo_video-js .vjs-poster{width: auto;height: 100%;}
        .video-js .vjs-big-play-button{background-color: rgba(43,51,63,.01);border:0;font-size: 6em;} */
        .my-video-dimensions {
            width: 100%;
            height: 4.22rem;
        }
        .openapp {
            border-radius: 0.08rem;
            display: none;
        }
        .shouy {
            display: none;
        }
        #launch-btn {
            position: relative;
            width: 300px;
            height: 60px;
            left: 50%;
            /* margin: -30px 0 0 -150px; */
            /* margin-bottom: 45px; */
            padding-bottom: 45px;
            margin-left: -150px;
            display: block;
        }
        .article p {
            min-height: 0.5rem;
        }
        .shade {
            text-align: center;
        }
        .shade img {
            margin-top: 0;
            width: 0.22rem;
            height: 0.22rem;
            animation-play-state: paused;
        }
        .shade .shade-box {
            font-family: PingFangSC-Regular, PingFang SC;
            margin: 0 auto;
            margin-top: 1.4rem;
            font-size: 0.3rem;
            font-weight: 400;
            color: #D02D2D;
            text-align: center;
            border: 1px solid #D02D2D;
            width: 2.19rem;
            height: 0.6rem;
            line-height: 0.6rem;
            border-radius: 0.29rem;
            background: #fff;
        }
        .recommend_c {
            align-items: center;
        }
        .recommend_demo:last-of-type {
            border: none;
        }
        .xjb-top {
            padding: 0.13rem 0.3rem;
            display: flex;
            justify-content: space-between;
            background: #F9F9F9;
        }

        .xjb-top-l {
            display: flex;
        }
        .xjb-top-l-logo {
            width: 0.74rem;
            height: 0.74rem;
            margin-right: 0.14rem;
        }
        .xjb-top-l-logo img {
            width: 100%;
        }
        .xjb-top-l-js p:first-of-type {
            margin-block-start: 0;
            margin-block-end: 0;
            font-family: PingFangSC-Medium, PingFang SC;
            font-weight: 500;
            color: #333333;
            font-size: 0.3rem;
            line-height: 1;
            margin-top: 0.06rem;
            margin-bottom: 0.12rem;
        }
        .xjb-top-l-js p:last-of-type {
            margin-block-start: 0;
            margin-block-end: 0;
            font-size: 0.19rem;
            font-family: PingFangSC-Regular, PingFang SC;
            font-weight: 400;
            color: #A7A7A7;
            line-height: 1;
        }
        .xjb-top-r {
            display: flex;
            align-items: center;
        }
        .xjb-top-r div {
            background: #D02D2D;
            line-height: 0.6rem;
            width: 1.72rem;
            height: 0.6rem;
            /* margin-top:0.06rem; */
            text-align: center;
            font-family: PingFangSC-Regular, PingFang SC;
            font-weight: 400;
            color: #FFFFFF;
            font-size: 0.28rem;
            border-radius: 0.04rem;
        }
        #laun-btn {
            position: relative;
            width: 76px;
            height: 26px;
            border-radius: 0.04rem;
            display: block;
        }
        .xjb-foot {
            background: #F9F9F9;
            padding: 0.5rem 0.3rem 1.28rem 0.3rem;
        }
        .xjb-foot>p {
            font-size: 0.24rem;
            font-family: PingFangSC-Regular, PingFang SC;
            font-weight: 400;
            color: #787878;
            line-height: 1;
        }
        .xjb-foot p:first-of-type {
            margin-bottom: 0.24rem;
        }
        .dingweisy {
            background: url(https://static.bjnews.com.cn/wap/img/syapp.png) no-repeat center;
            background-size: 100% 100%;
            width: 1rem;
            height: 1rem;
            position: fixed;
            /* bottom:2.95rem; */
            bottom: 1rem;
            left: 0.3rem;
            display: none;
            z-index: 999999
        }
        .detailBtn .bigCoverChang {
            width: 6.9rem;
            height: 2.26rem;
            margin-bottom: .2rem;
            position: relative;
        }
        .detailBtn .bigCoverChang img {
            width: 100%;
            height: 100%;
            -o-object-fit: cover;
            object-fit: cover;
        }
        .yuyueBox img {
            width: 100%;
            height: 100%;
        }
        .yuyueBox {
            position: relative;
            width: 100%;
            height: 100%;
        }
        .yugao {
            font-size: 16px;
            display: block;
            width: 100%;
            height: 100%;
            text-align: center;
            line-height: 30px;
            color: white;
            position: absolute;
            top: 0%;
            /* margin-top: -15px; */
            display: flex;
            justify-content: center;
            align-items: center;
            background: rgba(0, 0, 0, 0.3);
        }
        .yugao span {margin-left: 10px;}
        .video-title{
            height: 1.2rem;
            overflow: hidden;
        }
    </style>
</head>

<body style="background-color: rgb(244, 244, 244);">

   <!-- 这是专题3页面 -->


    <div id="root">
        <!-- 头部app引导 -->
        <div class="xjb-top">
            <div class="xjb-top-l">
                <div class="xjb-top-l-logo"><img src="https://static.bjnews.com.cn/wap/img/top-logo.png" alt=""></div>
                <div class="xjb-top-l-js">
                    <p>新京报客户端</p>
                    <p>好新闻 无止境</p>
                </div>
            </div>
            <div class="xjb-top-r">
                <div class="shouy dakai">立即打开</div>
                <wx-open-launch-app id="laun-btn" appid="wx28709be0cee37865"
                    extinfo="special_3/161769822515511">
                    <template>
                        <style>
                            .btn {
                                width: 100%;
                                height: 26px;
                                line-height: 1;
                                text-align: center;
                                font-size: 12px;
                                border: none;
                                border-radius: 2px;
                                color: #000;
                                background: #D02D2D;
                                color: #FFFFFF;
                            }
                        </style>
                        <button class="btn">立即打开</button>
                    </template>
                </wx-open-launch-app>
            </div>
        </div>

        <!-- 头部轮播 -->
        <style>
            .swiper-container {
                width: 100%;
                height: 100%;
            }

            .swiper-slide {
                overflow: hidden;
            }

            .swiper-pagination {
                text-align: right;
            }

            .swiper-pagination-bullet {
                width: 15px;
                height: 3px;
                background: rgba(255, 255, 255, 0.90);
                border-radius: 1px;
            }

            .swiper-pagination-bullet-active {
                width: 35px;
            }

            .swiper-zoom-container h3 {
                position: absolute;
                bottom: 0rem;
                color: #fff;
                text-align: left;
                font-size: .34rem;
                padding: 0 .1rem 0.5rem .2rem;
                line-height: .54rem;
                width: 100%;
                min-height: 0.5rem;
                background-image: linear-gradient(180deg, rgba(0, 0, 0, 0.00) 0%, rgba(0, 0, 0, 0.90) 100%);
            }

            .swiper-zoom-container h3 a {
                color: #fff;
                margin-right: 10px;
                display: inline-block;
            }

            .swiper-container-horizontal>.swiper-pagination-bullets,
            .swiper-pagination-custom,
            .swiper-pagination-fraction {
                left: auto;
                right: .2rem;
                bottom: .24rem;
            }

            .dingweisy {
                background: url(https://static.bjnews.com.cn/wap/img/syapp.png) no-repeat center;
                background-size: 100% 100%;
                width: 1rem;
                height: 1rem;
                position: fixed;
                /* bottom:2.95rem; */
                bottom: 1rem;
                left: 0.3rem;
                display: none;
            }
        </style>

        <div class="newsubject-box">
            <!-- 头部轮播 -->
            <div class="swiper-container">

            </div>
            <!-- 头部轮播 end -->

            <!-- 专题简介 -->
            <div class="jianjie"></div>

            <!-- 专题列表 -->
            <div class="new-subject-box">
                <div class="newsubject-list">

                </div>
            </div>
        </div>

       

        <div class="xjb-foot">
            <p>新京报报料邮箱：67106710@bjnews.com.cn</p>
        </div>
        <div class="dingweisy" style="display: none;"></div>
    </div>

    <input type="hidden" id="uuid" value="161769822515511">
    <!-- 保利威直播视频组件依赖 -->
    <script src="//player.polyv.net/resp/live-h5-player/latest/liveplayer.min.js"></script>

    <script type="text/javascript">


        // 获取当前时间(毫秒)
        var currTime = new Date().getTime()
        // 前两个小时(秒)
        var perTimer = (currTime - 7200000) / 1000

        // 返回顶部
        var web_root_url = "https://m.bjnews.com.cn"
        var api_root_url = "https://api.bjnews.com.cn/api/v101/"
        let POLYV_UID = "1e7d48173c"//保利威uid
        let polyv_channel_id = ""
        $('.dingweisy').click(function () {
            window.location.href = web_root_url
        })
        $(window, document, "body").scroll(function (e) {
            var scrollTop = $(this).scrollTop()    //滚动条距离顶部的高度
            // sessionStorage.setItem('topDistance', scrollTop) // 本地存储了距离顶部的位置
            if (scrollTop > 500) {   //距离顶部+当前高度 >=文档总高度 即代表滑动到底部 count++;         //每次滑动count加1
                $('.dingweisy').show()
            } else {
                $('.dingweisy').hide()
            }
        })
        //app下载链接
        function is_weixn () {
            var ua = navigator.userAgent.toLowerCase()
            if (ua.match(/MicroMessenger/i) == "micromessenger") {
                return true
            } else {
                return false
            }
        }
        var bt = document.getElementById('laun-btn')
        var is_weixn = is_weixn()
        if (is_weixn) {
            $('.shouy').hide()
            $('#laun-btn').show()
            $('.openapp').hide()
            //$('#launch-btn').show()
        } else {
            $('.shouy').show()
            $('#laun-btn').hide()
            $('.openapp').css({
                'display': 'flex'
            })
            //$('#launch-btn').hide()
        }
        $('.dakai').click(function () {
            window.location.href = web_root_url + "/guide/downv2?uuid=161769822515511&show_type=special_3&show_uuid=161769822515511"
        })
        var uuid = $('#uuid').val()
        // 统计
        $.ajax({
            type: 'GET',
            url:   '/api/addpv?uuid=' + uuid,
            dataType: 'JSON',
            success: function (st) {
                if (st.suc == 1 && st.info == 'ok') {

                }
            },
            error: function () { }
        })

        //把秒变成分秒
        function MillisecondToDate (msd) {
            var time = parseFloat(msd) //秒
            if (null != time && "" != time) {
                if (time > 0 && time < 60 * 60) {
                    var fen = parseInt(time / 60.0)
                    var miao = parseInt((parseFloat(time / 60.0) - parseInt(time / 60.0)) * 60)
                    time = (fen < 10 ? '0' + fen : fen) + ":" + (miao < 10 ? '0' + miao : miao)
                } else if (time >= 60 * 60 && time < 60 * 60 * 24) {
                    var xiaos = parseInt(time / 3600.0)
                    var fen = parseInt((parseFloat(time / 3600.0) - parseInt(time / 3600.0)) * 60)
                    var miao = parseInt((parseFloat((parseFloat(time / 3600.0) - parseInt(time / 3600.0)) * 60) - parseInt((parseFloat(time / 3600.0) - parseInt(time / 3600.0)) * 60)) * 60)
                    time = (xiaos < 10 ? "0" + xiaos : xiaos) + ":" + (fen < 10 ? '0' + fen : fen) + ":" + (miao < 0 ? '0' + miao : miao)
                }
            }
            return time
        }

        //时间的统一处理
        //获取当前时间戳
        var timesold = new Array()
        var datetime = new Array()
        var obj = $('.timestamp').each(function () {
            var $val = $(this).val()
            // console.log($val)
            timesold.push($val)
        })
        function format (times) {
            if (times) {
                console.log(times)
                var time = new Date(times * 1000)
                // time = new Date(times)
                console.log(time)
                var dqtime = new Date()
                var date = dqtime.getTime() - time.getTime()
                date = Math.floor(date / 1000)

                if (date <= 59) {
                    return (date + '秒前')
                } else if (date <= 3599) {
                    date = Math.floor(date / 60)
                    return (date + '分钟前')
                } else if (date <= 86399) {
                    date = Math.floor(date / 60 / 60)
                    return (date + '小时前')
                } else {
                    date = Math.floor(date / 60 / 60 / 24)
                    if (date < 2) {
                        return ('1天前')
                    } else {
                        y = time.getFullYear() //getFullYear方法以四位数字返回年份
                        M = time.getMonth() + 1 // getMonth方法从 Date 对象返回月份 (0 ~ 11)，返回结果需要手动加一
                        d = time.getDate() // getDate方法从 Date 对象返回一个月中的某一天 (1 ~ 31)
                        h = time.getHours() // getHours方法返回 Date 对象的小时 (0 ~ 23)
                        m = time.getMinutes() // getMinutes方法返回 Date 对象的分钟 (0 ~ 59)
                        s = time.getSeconds() // getSeconds方法返回 Date 对象的秒数 (0 ~ 59)
                        return (y + '-' + M + '-' + d)
                        // datetime.push(date + '天前')

                    }

                }
            } else {
                return ''
            }
        }
        
        //请求专题接口
        $(function () {           
            $.ajax({
                headers: {
                    'version': "v214",
                    // 'version': "v207",
                    // 'version': "v206",
                },
                url: api_root_url + '/news/special_detail.php',
                type: 'GET',
                dataType: "json",
                data: { // 请求参数
                    uuid: uuid,
                },
                success: function (res) { // 接口调用成功回调函数  data 为服务器返回的数据
                    if (res.code == 0) {
                        //判断颜色
                        setTimeout(function() {
                            console.log(res.data.ext_data.special_color)
                            if(res.data.ext_data.special_color == 1){
                                $(".red_line").addClass("red_line");
                                $(".shijian li .round").css("border",".04rem solid #d12d2b");
                                $(".shijian .time").css("background","#d12d2b");
                                $(".shijian .time i").css("borderRight","0.2rem solid #d12d2b");
                                $(".descBtn").css("color","#d12d2b");
                                $(".descBtn_over").css("color","#d12d2b");
                                $(".viewMoreNormal").css("color","#d12d2b");
                                $(".chakan_more").css("color","#d12d2b");
                            }else if(res.data.ext_data.special_color == 2){
                                $(".red_line").addClass("blue_line");
                                $(".shijian li .round").css("border",".04rem solid #146AEA");
                                $(".shijian .time").css("background","#146AEA");
                                $(".shijian .time i").css("borderRight","0.2rem solid #146AEA");
                                $(".descBtn").css("color","#146AEA");
                                $(".descBtn_over").css("color","#146AEA");
                                $(".viewMoreNormal").css("color","#146AEA")
                                $(".chakan_more").css("color","#146AEA");
                            }else if(res.data.ext_data.special_color == 3){
                                $(".red_line").addClass("grey_line");
                                $(".shijian li .round").css("border",".04rem solid #ccc");
                                $(".shijian .time").css("background","#ccc");
                                $(".shijian .time i").css("borderRight","0.2rem solid #ccc");
                                $(".descBtn").css("color","#ccc");
                                $(".descBtn_over").css("color","#ccc");
                                $(".viewMoreNormal").css("color","#ccc");
                                $(".chakan_more").css("color","#ccc");
                            }
                        }, 100);
                        
                        var demo = ''
                        // 头部轮播
                        if (res.data.focus_list.length > 0) { //轮播图首要展示
                            console.log("1轮播图")
                            demo += '<div class="swiper-wrapper" style="height:4.22rem;">'
                            for (var i = 0; i < res.data.focus_list.length; i++) {
                                demo += '<div class="swiper-slide">'
                                    demo += '<div class="swiper-zoom-container">'
                                        demo += '<a href="' + res.data.focus_list[i].special_focus_url + '">'
                                            demo += '<img class="newsubject-head-box" alt="" src="' + res.data.focus_list[i].special_focus_cover + '">'
                                            demo += '<h3><a>' + res.data.focus_list[i].special_focus_title + '</a></h3>'
                                        demo += '</a>'
                                    demo += '</div>'
                                demo += '</div>'
                            }
                            demo += '</div>'
                            demo += '<div class="swiper-pagination swiper-pagination-white"></div>'
                        } else if (res.data.list[0].manuscript_list.length > 0 && res.data.list[0].manuscript_list[0].type == 6) { //6为直播
                            console.log("2直播")
                            demo += '<div class="swiper-wrapper lunbo_video-js">'
                            demo += '<div class="swiper-slide">'
                            // demo += '<div class="swiper-zoom-container">'
                            // demo += '<video poster="'+res.data.list[0].manuscript_list[0].row.cover+'" id="video" width="100%" height="100%" object-fit:fill webkit-playsinline playsinline x5-video-player-type="h5" x5-video-orientation="portraint" style="width: 7.5rem;height:4.22rem;object-fit: fill;" controls autoplay="autoplay">'
                            // demo += '<source src="' + res.data.list[0].manuscript_list[0].row.ext_data.video_url + '">'
                            // demo += '</video>'
                            polyv_channel_id = res.data.list[0].manuscript_list[0].row
                                && res.data.list[0].manuscript_list[0].row.polyv_channel_id
                                ? res.data.list[0].manuscript_list[0].row.polyv_channel_id
                                : ""
                            console.log('polyv_channel_id', polyv_channel_id)
                            if (res.data.list[0].manuscript_list[0].row.live_status / 1 === 4) {
                                demo +=
                                    '<div class="yuyueBox">'
                                    + '<img src="' +
                                    res.data.list[0].manuscript_list[0].row.cover +
                                    ('" alt="封面"/>'
                                        + '<div class="yugao">'
                                        + "<div>"
                                        + '直播已结束'
                                        + "</div>"
                                        + "</div>"
                                        // +'<p class="yuyueTitle" style="color:white;top:50%">' 
                                        // + "直播已结束" + "</p>"
                                        + "</div>")
                            } else if (res.data.list[0].manuscript_list[0].row.live_status / 1 === 1 || res.data.list[0].manuscript_list[0].row.live_status / 1 === 2) {
                                if (polyv_channel_id) {
                                    demo += `
                                        <!-- 移动端 -->
                                        <div >
                                            <div id="player"></div>
                                            <div class="plv-watch-mobile" style="display: none;">
                                                <div class="plv-watch-mobile__top">
                                                    <div class="plv-watch-mobile-player" 
                                                        id="plv-mobile-player"></div>
                                                </div>
                                                <div class="plv-watch-mobile-chatroom plv-skin--dark" 
                                                    id="plv-mobile-chat"></div>
                                            </div>
                                        `
                                    // 因为下面两个 div 的结束标签，所以这里删除一个div结束标签
                                } else {
                                    demo += '<video id="video" class="video-js vjs-big-play-centered" x-webkit-airplay="allow" poster="'
                                        + res.data.list[0].manuscript_list[0].row.cover
                                        + '" webkit-playsinline playsinline x5-video-player-type="h5" x5-video-player-fullscreen="true" preload="auto" src="'
                                        + res.data.list[0].manuscript_list[0].row.ext_data.video_url
                                        + '" style="width: 7.5rem;height:4.22rem;" controls="controls"><source src="'
                                        + res.data.list[0].manuscript_list[0].row.ext_data.video_url + '"  type='
                                        + (res.data.list[0].manuscript_list[0].row.ext_data.video_url.toLowerCase().indexOf(".m3u8") != -1
                                            ? "application/x-mpegURL" : "video/mp4") + '></video>'
                                }

                            } else if (res.data.list[0].manuscript_list[0].row.live_status / 1 === 3) {
                                if (res.data.list[0].manuscript_list[0].row.trailer
                                    && res.data.list[0].manuscript_list[0].row.trailer.trailer_video_url != '') {
                                    demo += '<video id="video" class="video-js vjs-big-play-centered" x-webkit-airplay="allow" poster="' + res.data.list[0].manuscript_list[0].row.trailer.cover + '" webkit-playsinline playsinline x5-video-player-type="h5" x5-video-player-fullscreen="true" preload="auto" src="' + res.data.list[0].manuscript_list[0].row.trailer.trailer_video_url + '" style="width: 7.5rem;height:4.22rem;" controls="controls"><source src="' + res.data.list[0].manuscript_list[0].row.trailer.trailer_video_url + '"  type=' + (res.data.list[0].manuscript_list[0].row.trailer.trailer_video_url.toLowerCase().indexOf(".m3u8") != -1 ? "application/x-mpegURL" : "video/mp4") + '></video>'
                                } else {
                                    demo += '<div class="yuyueBox">'
                                        + '<img src="'
                                        + res.data.list[0].manuscript_list[0].row.cover
                                        + '" alt="封面"/>'
                                        + '<div class="yugao">'
                                        + "<div>"
                                        + res.data.list[0].manuscript_list[0].row.ext_data.live_start_time
                                        + "<span>开始</span>"
                                        + "</div>"
                                        + "</div>"
                                        + '</div>'
                                }

                            }
                            // demo += '</div>'
                            demo += '</div>'
                            demo += '</div>'

                        } else { //其次是封面图
                            console.log("3封面图")
                            demo += '<div class="">'
                            demo += '<div class="">'
                            demo += '<div class="swiper-zoom-container">'
                            //demo += '<a class="flex-a" href="' +web_root_url + "/detail/" + res.data.uuid + ".html" + '" title="">'

                            demo += '<img id="noTouch" class="newsubject-head-box" alt="" src="' + res.data.ext_data.inner_cover + '">'
                            // demo += '<h3>'+res.data.title+'</h3>'
                            //demo += '</a>'
                            demo += '</div>'
                            demo += '</div>'
                            demo += '</div>'

                        }
                        $('.swiper-container').append(demo)
                        if (res.data.list[0].manuscript_list.length > 0
                            && (res.data.list[0].manuscript_list[0].row.live_status / 1 === 1
                                || res.data.list[0].manuscript_list[0].row.live_status / 1 === 2)
                            && polyv_channel_id) {
                            polyvLoading(polyv_channel_id)
                        } else {
                            videojsnn('video')
                        }


                        var swiper = new Swiper('.swiper-container', {  // 轮播图
                            // zoom: true,
                            pagination: {
                                el: '.swiper-pagination',
                            },
                            navigation: {
                                nextEl: '.swiper-button-next',
                                prevEl: '.swiper-button-prev',
                            },
                            autoplay: true,
                            autoplay: {
                                delay: 5000,
                            },
                        })


                        // 专题简介
                        var demo0 = ''
                        if (res.data.desc.length > 0) {
                            demo0 += '<div class="newsubject-desc innerCtn">'
                            demo0 += '<p class="moreText mui-ellipsis-3">'
                            demo0 += res.data.desc
                            demo0 += '</p>'
                            demo0 += '<span id="open" class="descBtn">展开全部<span class="descIcon"></span></span> '
                            demo0 += '<span id="close" class="descBtn_over" style="display:none;color: #D02D2D;">收起</span>  '
                            demo0 += '</div>'
                        }
                        $('.jianjie').append(demo0)
                        var $text = $('.moreText');
                        var $openBtn = $('#open');
                        var $closeBtn = $('#close');
                        
                        if ($text.text().length > 60) {
                        $text.addClass('mui-ellipsis-3');
                        $openBtn.show();
                        }
                        
                        $openBtn.click(function() {
                        $text.removeClass('mui-ellipsis-3');
                        $openBtn.hide();
                        $closeBtn.show();
                        });
                        
                        $closeBtn.click(function() {
                        $text.addClass('mui-ellipsis-3');
                        $openBtn.show();
                        $closeBtn.hide();
                        });
                        //专题简介 展开/收起
                        // $('#open').click(function () {
                        //     $(".moreText").removeClass('mui-ellipsis-3')
                        //     $(".descBtn").hide()
                        //     $(".descBtn_over").show()
                        // })
                        // $('#close').click(function () {
                        //     $(".moreText").addClass('mui-ellipsis-3')
                        //     $(".descBtn").show()
                        //     $(".descBtn_over").hide()
                        // })
                        // var maxwidth = 90//设置最多显示的字数
                        // var text = $(".moreText").text()
                        // var textHeight = $(".mui-ellipsis-3").height()
                        // console.log($(".mui-ellipsis-3").height())
                        // if(textHeight > 72){
                        //     $("#open").show()
                        // }else{
                        //     $("#open").hide()
                        // }
                        // if (text.length > maxwidth) {
                        //     $("#open").show()
                        // } else {
                        //     $("#open").hide()
                        // }

                        // 列表栏目
                        var demo1 = ''

                        for (var j = 0; j < res.data.list.length; j++) {
                            demo1 += '<div id="module_' + res.data.list[j].module_id + '">'
                            //6 视频模块
                            if (res.data.list[j].module_type == 6) {
                                if (res.data.list[j].manuscript_list.length > 0) {
                                    demo1 += '<div class="newsubject-video-box">'
                                    demo1 += '<div class="video-text">'
                                    demo1 += '<span class="red_line"></span>' + res.data.list[j].module_name + ''
                                    demo1 += '</div>'
                                    demo1 += '<div class="video-list">'
                                    for (var y = 0; y < res.data.list[j].manuscript_list.length; y++) {
                                        demo1 += '<div class="manuItem">'
                                        demo1 += '<div class="manuCover">'
                                        demo1 += '<a href="' + web_root_url + "/detail/" + res.data.list[j].manuscript_list[y].row.uuid + ".html" + '" title="">'
                                        demo1 += '<img alt="" src="' + res.data.list[j].manuscript_list[y].row.cover + '">'
                                        demo1 += '</a>'
                                        demo1 += '<div class="manuTimeBox">'
                                        demo1 += '<span class="play-icon"></span><span style="margin-left: .2rem;">' + MillisecondToDate(res.data.list[j].manuscript_list[y].row.ext_data.duration) + '</span>'
                                        demo1 += '</div>'
                                        demo1 += '</div>'
                                        // demo1 += '<p class="video-title line_2"><a href="' +web_root_url + "/detail/" + res.data.list[j].manuscript_list[y].row.uuid + ".html" + '" title="">'+res.data.list[j].manuscript_list[y].row.title+'</a></p>'
                                        demo1 += '<p class="video-title"><a href="' + web_root_url + "/detail/" + res.data.list[j].manuscript_list[y].row.uuid + ".html" + '" title="">' + res.data.list[j].manuscript_list[y].row.title + '</a></p>'
                                        demo1 += '</div>'
                                    }
                                    demo1 += '</div>'
                                    //demo1 += '<div class="viewMoreVideo">查看更多 &gt;</div>'
                                    demo1 += '</div>'
                                }
                                //7 时间线模块
                            } else if (res.data.list[j].module_type == 7) {
                                if (res.data.list[j].event_list.length > 0) {
                                    demo1 += '<div class="newsubject-video-box">'
                                    demo1 += '<div class="video-text">'
                                    demo1 += '<span class="red_line"></span>' + res.data.list[j].module_name + ''
                                    demo1 += '</div>'
                                    demo1 += '<div class="shijian">'
                                    demo1 += '<ul>'
                                    for (var y = 0; y < res.data.list[j].event_list.length; y++) {
                                        demo1 += '<li>'
                                        demo1 += '<i class="round"></i>'
                                        demo1 += '<span class="time">' + res.data.list[j].event_list[y].time + '</span>'
                                        demo1 += '<p>' + res.data.list[j].event_list[y].content + '</p>'
                                        demo1 += '</li>'
                                    }
                                    demo1 += '</ul>'
                                    demo1 += '</div>'
                                    demo1 += '</div>'
                                }
                                //8 2022-6-13 新时间线 2023/09/24修改
                            } else if (res.data.list[j].module_type == 8) {
                                if (res.data.list[j].event_list.length > 0) {
                                    demo1 += '<div class="newsubject-video-box">'

                                    if( !res.data.list[j].event_list[0].node_desc ){
                                        demo1 += ""
                                    }else{
                                        //排序
                                        demo1 += '<div class="overlay"></div>';
                                        demo1 += '<div class="paixu_right"></div>';
                                        demo1 += '<div class="paixu_right_nav">';
                                            demo1 += '<p class="zhongyao" data-id="'+ res.data.list[j].module_id +'">只看重要</p>';
                                            demo1 += '<p class="daoxu" data-id="'+ res.data.list[j].module_id +'">倒序</p>';
                                            demo1 += '<p class="zhengxu" data-id="'+ res.data.list[j].module_id +'">正序</p>';
                                        demo1 += '</div>';
                                    }
                                        


                                        demo1 += '<div class="video-text">'
                                            demo1 += '<span class="red_line"></span>' + res.data.list[j].module_name + ''
                                        demo1 += '</div>'
                                        demo1 += '<div class="shijian">'
                                            demo1 += '<ul>'
                                            for (var y = 0; y < res.data.list[j].event_list.length; y++) {
                                                demo1 += '<li>'
                                                demo1 += '<i class="round"></i>'

                                                
                                                if( !res.data.list[j].event_list[y].node_desc ){
                                                     //时间节点
                                                     demo1 += '<span class="time">' + changeBeforeTime(res.data.list[j].event_list[y].timestamp, res.data.list[j].event_list[y].time) + '</span>'
                                                }else{
                                                
                                                    //时间节点改成节点描述
                                                    if(res.data.list[j].event_list[y].node_desc != null){
                                                        demo1 += '<span class="time"><i></i>' + res.data.list[j].event_list[y].node_desc + '</span>'
                                                    }else{
                                                        demo1 += ''
                                                    }
                                                }
                                                



                                                if( !res.data.list[j].event_list[y].node_desc ){
                                                    demo1 += `<p style="cursor: pointer" onclick="goHTML('${res.data.list[j].event_list[y].article_type || ""}','${res.data.list[j].event_list[y].article_uuid || ""}')">${res.data.list[j].event_list[y].content}</p>`
                                                }else{
                                                    // 新增时间事件标题
                                                    if(res.data.list[j].event_list[y].outside_url != ""){//外链
                                                        demo1 += '<a href="'+ res.data.list[j].event_list[y].outside_url +'">';
                                                            demo1 += '<p class="time_big_title">'+(res.data.list[j].event_list[y].event_title ? res.data.list[j].event_list[y].event_title : '')+'</p>';
                                                            demo1 += '<p>'+ res.data.list[j].event_list[y].content +'</p>'; 
                                                        demo1 += '</a>';
                                                    }else{//uuid
                                                        demo1 += `<p class="time_big_title" onclick="goHTML('${res.data.list[j].event_list[y].article_type || ""}','${res.data.list[j].event_list[y].article_uuid || ""}')">${(res.data.list[j].event_list[y].event_title ? res.data.list[j].event_list[y].event_title : '')}</p>`
                                                        demo1 += `<p style="cursor: pointer" onclick="goHTML('${res.data.list[j].event_list[y].article_type || ""}','${res.data.list[j].event_list[y].article_uuid || ""}')">${res.data.list[j].event_list[y].content}</p>`
                                                    }
                                                }
                                                
                                                
                                                //下面判断图片的情况
                                                if( res.data.list[j].event_list[y].img_data.length != '' && res.data.list[j].event_list[y].img_data.length > 1 ){//多张图
                                                    demo1 += '<div class="time_images">';
                                                        demo1 += '<div class="swiper-container swiper-container-horizontal swiper-container-ios hotspot-swiper">';
                                                            demo1 += '<div class="swiper-wrapper">';
                                                            for( let k = 0; k < res.data.list[j].event_list[y].img_data.length; k++ ){
                                                                demo1 += '<div class="swiper-slide">';
                                                                    demo1 += '<div class="swiper-zoom-container">'

                                                                        if(res.data.list[j].event_list[y].outside_url != ""){
                                                                            demo1 += '<a href="'+ res.data.list[j].event_list[y].outside_url +'">'
                                                                                demo1 += '<img class="time_lunboimg" alt="" src="' + res.data.list[j].event_list[y].img_data[k].image_url + '">'
                                                                                demo1 += '<p class="moreimg_desc">'+ res.data.list[j].event_list[y].img_data[k].desc +'</p>';
                                                                            demo1 += '</a>'
                                                                        }else{
                                                                            demo1 += `<a onclick="goHTML('${res.data.list[j].event_list[y].article_type || ""}','${res.data.list[j].event_list[y].article_uuid || ""}')">`
                                                                                demo1 += '<img class="time_lunboimg" alt="" src="' + res.data.list[j].event_list[y].img_data[k].image_url + '">'
                                                                                demo1 += '<p class="moreimg_desc">'+ res.data.list[j].event_list[y].img_data[k].desc +'</p>';
                                                                            demo1 += '</a>'
                                                                        }

                                                                    demo1 += '</div>';
                                                                demo1 += '</div>';
                                                            }                                                   
                                                            demo1 += '</div>';             
                                                        demo1 += '</div>'; 
                                                        demo1 += '<div class="swiper-pagination swiper-pagination-white"></div>' 
                                                    demo1 += '</div>';

                                                    //时间线轮播图
                                                    setTimeout(function() {
                                                        var mySwiper = new Swiper('.hotspot-swiper', {
                                                            direction: 'horizontal', //横向切换选项
                                                            loop: false, //循环模式选项
                                                            slidesPerView: 'auto'
                                                        });
                                                    }, 2000);
                                                    

                                                }else if( res.data.list[j].event_list[y].img_data.length != '' ){//一张图
                                                    demo1 += '<div class="one_image">';
                                                        if(res.data.list[j].event_list[y].outside_url != ""){//外链
                                                            demo1 += '<a href="'+ res.data.list[j].event_list[y].outside_url +'">'
                                                                demo1 += '<img src="' + res.data.list[j].event_list[y].img_data[0].image_url +'">';
                                                                demo1 += '<p class="image_miaoshu">'+ res.data.list[j].event_list[y].img_data[0].desc +'</p>';
                                                            demo1 += '</a>'
                                                        }else{
                                                            demo1 += `<a onclick="goHTML('${res.data.list[j].event_list[y].article_type || ""}','${res.data.list[j].event_list[y].article_uuid || ""}')">`
                                                                demo1 += '<img src="' + res.data.list[j].event_list[y].img_data[0].image_url +'">';
                                                                demo1 += '<p class="image_miaoshu">'+ res.data.list[j].event_list[y].img_data[0].desc +'</p>';
                                                            demo1 += '</a>'
                                                        }

                                                    demo1 += '</div>';
                                                }
                                                //下面判断视频的情况
                                                if(res.data.list[j].event_list[y].video_data.length != ''){
                                                    for( let z = 0; z < res.data.list[j].event_list[y].video_data.length; z++ ){
                                                        demo1 += '<div class="video_lists">';
                                                            demo1 += "<video id=\"video\" class=\"video-js pc_video vjs-big-play-centered\" x-webkit-airplay=\"allow\" poster=\"" + res.data.list[j].event_list[y].video_data[z].video_cover + ("\" webkit-playsinline playsinline x5-video-player-type=\"h5\" x5-video-player-fullscreen=\"true\" preload=\"auto\" src=\"" + res.data.list[j].event_list[y].video_data[z].video_url + "\" style=\"width:100%; height: 4.22rem; border-radius:.16rem\" controls=\"controls\">");
                                                                demo1 += "<source src=\"" + res.data.list[j].event_list[y].video_data[z].video_url + "\"  type=\"" + (res.data.list[j].event_list[y].video_data[z].video_url.toLowerCase().indexOf('.m3u8') != -1 ? 'application/x-mpegURL' : 'video/mp4') + "\">";
                                                            demo1 += ' </video>';
                                                            demo1 += '<p class="image_miaoshu">'+res.data.list[j].event_list[y].video_data[z].desc+'</p>';
                                                        demo1 += '</div>';
                                                    }
                                                }
                                                //下面判断如果是音频
                                                if(res.data.list[j].event_list[y].audio_data.length != ''){
                                                    for( let k = 0; k < res.data.list[j].event_list[y].audio_data.length; k++ ){
                                                        demo1 += '<div class="audio_list">';
                                                        demo1 += '<div class="audio">';
                                                        demo1 += '<audio controls>';
                                                        demo1 += '<source src="'+res.data.list[j].event_list[y].audio_data[k].audio_url+'" type="audio/mpeg">';
                                                        demo1 += '</audio>';
                                                        demo1 += '<p class="image_miaoshu">'+res.data.list[j].event_list[y].audio_data[k].desc+'</p>';
                                                        demo1 += '</div>';
                                                        demo1 += '</div>';
                                                    }
                                                }
                                                
                                                demo1 += '</li>'
                                            }
                                            demo1 += '</ul>'
                                        demo1 += '</div>'
                                    demo1 += '</div>'


                                    //上面  处理视频音频只播放一个的问题
                                    setTimeout(() => {
                                        $(".video-js").each(function (index, element) {
                                            var videoUrl = $(this).attr("src");
                                            var videoCover = $(this).attr("poster");
                                            if (videoUrl) {
                                                if (videoUrl.split(".").pop() === 'm3u8') {
                                                    var video = '<video id="my-video' + index + '" class="video-js vjs-big-play-centered" controls preload="auto" width="100%" poster="' + videoCover + '"'
                                                        + 'data-setup="{}" src="' + videoUrl + '">'
                                                        + '<source src="' + videoUrl + '" type="application/x-mpegURL" />'
                                                        + '</video>';
                                                    $(this).replaceWith(video);
                                                } else {
                                                    var video = '<video id="my-video' + index + '" class="video-js vjs-big-play-centered" controls preload="auto" width="100%" poster="' + videoCover + '"'
                                                        + 'data-setup="{}" src="' + videoUrl + '">'
                                                        + '<source src="' + videoUrl + '" type="video/mp4" />'
                                                        + '<source src="'+ videoUrl +'" type="video/webm" />'
                                                        + '<source src="'+ videoUrl +'" type="video/ogg" />'
                                                        + '</video>';
                                                    $(this).replaceWith(video);
                                                }
                                                var my = 'my-video' + index
                                                my = videojs(my);
                                                my.on("play", function () {
                                                    console.log(123)
                                                    nameAllPause(this.id_)
                                                    pauseAll()
                                                })
                                            }
                                        });
                                        var audios = document.getElementsByTagName("audio");
                                        function pauseAll() {
                                            var self = this;
                                            console.log(self);
                                            [].forEach.call(audios, function (i) {
                                                i !== self && i.pause();
                                                console.log(i !== self && i.pause())
                                            })
                                        }
                                        [].forEach.call(audios, function (i) {
                                            i.addEventListener("play",function(){
                                                console.log(i)
                                                pauseAll.bind(i)()
                                                nameAllPause()
                                            }.bind(i));
                                        })
                                        function nameAllPause(params) {
                                            $('.video-js').each(function(index, element) {
                                                if($(this).attr('id') !== params || params=== undefined){
                                                    // console.log(params)
                                                    my = 'my-video' + index
                                                    videojs(my).pause();
                                                    console.log(my)
                                                    // pauseAll()
                                                }
                                            })
                                        }
                                    }, 200);

                                    // setTimeout(function() {
                                    //     //处理音频视频只播放一个
                                    //     var audios = document.getElementsByTagName("audio");
                                    //     var videos = document.getElementsByTagName("video");
                                    //     // 停止所有音频播放的函数
                                    //     function pauseAllAudio() {
                                    //         [].forEach.call(audios, function (audio) {
                                    //             audio.pause();
                                    //         });
                                    //     }
                                    //     // 停止所有视频播放的函数
                                    //     function pauseAllVideo() {
                                    //         [].forEach.call(videos, function (video) {
                                    //             video.pause();
                                    //         });
                                    //     }
                                    //     // 为每个音频元素添加播放按钮，点击时播放当前音频并停止所有其他音频和视频
                                    //     [].forEach.call(audios, function (audio) {
                                    //         var playButton = document.createElement("button");
                                    //         playButton.textContent = "Play";
                                    //         playButton.addEventListener("click", function () {
                                    //             pauseAllAudio();  // 停止所有音频
                                    //             pauseAllVideo();  // 停止所有视频
                                    //             audio.play();  // 播放当前音频
                                    //         });
                                    //         audio.parentNode.insertBefore(playButton, audio);  // 在音频元素前插入播放按钮
                                    //     });
                                    //     // 为每个视频元素添加播放按钮，点击时播放当前视频并停止所有其他视频和音频
                                    //     [].forEach.call(videos, function (video) {
                                    //         var playButton = document.createElement("button");
                                    //         playButton.textContent = "Play";
                                    //         playButton.addEventListener("click", function () {
                                    //             pauseAllAudio();  // 停止所有音频
                                    //             pauseAllVideo();  // 停止所有视频
                                    //             video.play();  // 播放当前视频
                                    //         });
                                    //         video.parentNode.insertBefore(playButton, video);  // 在视频元素前插入播放按钮
                                    //     });
                                    // }, 100);



                                }
                                //3 人物模块
                            } else if (res.data.list[j].module_type == 3) {
                                if (res.data.list[j].person_list.length > 0) {
                                    demo1 += '<div class="newsubject-video-box">'
                                    demo1 += '<div class="video-text">'
                                    demo1 += '<span class="red_line"></span>' + res.data.list[j].module_name + ''
                                    demo1 += '</div>'
                                    demo1 += '<div class="renwu">'
                                    demo1 += '<ul>'
                                    for (var y = 0; y < res.data.list[j].person_list.length; y++) {
                                        demo1 += '<a class="flex-a" href="' + res.data.list[j].person_list[y].relate_url + '">'
                                        demo1 += '<li>'
                                        demo1 += '<img class="fl headImg" src="' + res.data.list[j].person_list[y].head_image + '" alt="" >'
                                        demo1 += '<div class="fl right">'
                                        demo1 += '<h3>' + res.data.list[j].person_list[y].user_name + '</h3>'
                                        demo1 += '<p>' + res.data.list[j].person_list[y].keyword + '</p>'
                                        demo1 += '</div>'
                                        demo1 += '</li>'
                                        demo1 += '</a>'
                                    }
                                    demo1 += '</ul> '
                                    demo1 += '</div>'
                                    demo1 += '</div>'
                                }
                            } else {

                                if (res.data.list[j].manuscript_list.length > 0) { //判断必须给模块添加文章
                                    if (res.data.list[j].manuscript_list[0].type == 6) {
                                        demo1 += '<div class="">'
                                        demo1 += ''
                                    } else {
                                        demo1 += '<div class="newsubject-normal-box">'
                                        demo1 += '<div class="normal-text">'
                                        demo1 += '<span class="red_line"></span>' + res.data.list[j].module_name + ''
                                        demo1 += '</div>'
                                    }
                                }

                                if (res.data.list[j].manuscript_list.length > 0) {
                                    demo1 += '<div>'
                                        demo1 += '<div class="normal-list">'
                                        for (var y = 0; y < res.data.list[j].manuscript_list.length; y++) {
                                            //小图模式(左图右文)
                                            if (res.data.list[j].manuscript_list[y].show_type == 1) {
                                                demo1 += '<div class="newsubject-normal-item">'
                                                if (res.data.list[j].manuscript_list[y].row.special_type == 4) { //h5专属链接
                                                    demo1 += '<a class="flex-a" href="' + web_root_url + "/h5special/" + res.data.list[j].manuscript_list[y].row.uuid + ".html" + '" title="" target="_blank">'
                                                } else if (res.data.list[j].manuscript_list[y].type == 50) {
                                                    demo1 += '<a class="flex-a" target="_blank" tar href="' + res.data.list[j].manuscript_list[y].row.ext_data.article_url + '" title="">'
                                                } else {
                                                    demo1 += '<a class="flex-a" href="' + web_root_url + "/detail/" + res.data.list[j].manuscript_list[y].row.uuid + ".html" + '" title="" target="_blank">'
                                                }
                                                demo1 += '<div class="detailBtn" style="padding:.3rem 0 .3rem .3rem">'
                                                demo1 += '<div>'
                                                demo1 += '<div class="smallCover">'
                                                if (res.data.list[j].manuscript_list[y].type == 2) { //2为视频 有视频图标
                                                    demo1 += '<img src="' + res.data.list[j].manuscript_list[y].row.cover + '" alt="">'
                                                    demo1 += '<img class="hot_player" src="https://static.bjnews.com.cn/www/v6/images/videoBtn.png" >'

                                                } else if (res.data.list[j].manuscript_list[y].type == 3 && res.data.list[j].manuscript_list[y].special_type == 4) {
                                                    //3为H5专题 链接和其他不同
                                                    demo1 += '<img src="' + res.data.list[j].manuscript_list[y].row.cover + '" alt="">'
                                                    demo1 += '<img class="hot_player" src="https://static.bjnews.com.cn/www/v6/images/videoBtn.png" >'

                                                } else if (res.data.list[j].manuscript_list[y].type == 21) { //21为音频 有音频图标
                                                    demo1 += '<img src="' + res.data.list[j].manuscript_list[y].row.cover + '" alt="">'
                                                    demo1 += '<img class="hot_player" src="https://static.bjnews.com.cn/www/v6/images/videoBtn2.png" >'

                                                } else if (res.data.list[j].manuscript_list[y].type == 50) {  //50为外链，链接和其他不同
                                                    demo1 += '<img src="' + res.data.list[j].manuscript_list[y].row.cover_list[0].url + '" alt="">'

                                                } else {
                                                    demo1 += '<img src="' + res.data.list[j].manuscript_list[y].row.cover + '" alt="">'

                                                }
                                                demo1 += '</div>'
                                                demo1 += '<div class="smallCoverTitle">'
                                                if (res.data.list[j].manuscript_list[y].row.special_type == 5) {
                                                    // demo1 += '<div class="right_title line_2"><span class="zt_style">专题</span>';
                                                    demo1 += '<div class="right_title"><span class="zt_style">专题</span>'
                                                    demo1 += res.data.list[j].manuscript_list[y].row.title
                                                    demo1 += '</div>'
                                                } else {
                                                    // demo1 += '<div class="right_title line_2">';
                                                    demo1 += '<div class="right_title">'
                                                    demo1 += res.data.list[j].manuscript_list[y].row.title
                                                    demo1 += '</div>'
                                                }
                                                if (res.data.list[j].manuscript_list[y].type == 50) { //外链
                                                    if (res.data.list[j].manuscript_list[y].row.ext_data.is_show_marker == 1) {
                                                        // demo1 += '<span class="waiOpen" style="position: absolute;bottom: 0;">广告</span>';
                                                        demo1 += '<span class="waiOpen">广告</span>'
                                                    } else {
                                                        demo1 += ''
                                                    }
                                                } else {
                                                    demo1 += '<div class="right_tag">'
                                                    demo1 += res.data.list[j].manuscript_list[y].row.column_info.length>0 ? res.data.list[j].manuscript_list[y].row.column_info[0].column_name: ''; //栏目
                                                    demo1 += '<span style="padding-left:.2rem;display:inline-block">' + res.data.list[j].manuscript_list[y].row.com_zan_num + '</span>'
                                                    demo1 += '</div>'
                                                }

                                                if (perTimer < res.data.list[j].manuscript_list[y].row.publish_timestamp) {
                                                    demo1 += '<span class="right_time">' + format(res.data.list[j].manuscript_list[y].row.publish_timestamp) + '</span>'
                                                }
                                                demo1 += '</div>'
                                                demo1 += '</div>'
                                                demo1 += '</div>'
                                                demo1 += '</a>'
                                                demo1 += '</div>'
                                                //show_type=2大图模式
                                            } else if (res.data.list[j].manuscript_list[y].show_type == 2) {
                                                if (res.data.list[j].manuscript_list[y].type == 50) { //50为外链
                                                    console.log("大图外链大图外链大图外链")
                                                    demo1 += '<div class="newsubject-normal-item">'
                                                    demo1 += '<a class="flex-a" target="_blank" href="' + res.data.list[j].manuscript_list[y].row.ext_data.article_url + '" title="">'
                                                    demo1 += '<div class="detailBtn" style="padding-bottom:.2rem">'
                                                    demo1 += '<div>'
                                                    demo1 += '<div>'
                                                    // demo1 += '<div class="bigCoverTitle line_2" style="margin-bottom: .3rem;">'+res.data.list[j].manuscript_list[y].row.title+'</div>';
                                                    demo1 += '<div class="bigCoverTitle" style="margin-bottom: .3rem;">' + res.data.list[j].manuscript_list[y].row.title + '</div>'
                                                    demo1 += '<div class="bigCover" style="margin-bottom:.2rem">'
                                                    if (res.data.list[j].manuscript_list[y].type == 2) { //2为视频 有视频图标
                                                        demo1 += '<img src="' + res.data.list[j].manuscript_list[y].row.cover_list[0].url + '" alt="">'
                                                        demo1 += '<img class="hot_player bigVideoBtn" src="https://static.bjnews.com.cn/www/v6/images/videoBtn.png" >'
                                                    } else if (res.data.list[j].manuscript_list[y].type == 21) { //21为音频 有音频图标
                                                        demo1 += '<img src="' + res.data.list[j].manuscript_list[y].row.cover_list[0].url + '" alt="">'
                                                        demo1 += '<img class="hot_player bigVideoBtn" src="https://static.bjnews.com.cn/www/v6/images/videoBtn2.png" >'
                                                    } else if (res.data.list[j].manuscript_list[y].type == 3 && res.data.list[j].manuscript_list[y].special_type == 4) { //3为h5专题 链接和其他不同
                                                        demo1 += '<img src="' + res.data.list[j].manuscript_list[y].row.cover_list[0].url + '" alt="">'
                                                        demo1 += '<img class="hot_player bigVideoBtn" src="https://static.bjnews.com.cn/www/v6/images/videoBtn.png" >'
                                                    } else {
                                                        demo1 += '<img src="' + res.data.list[j].manuscript_list[y].row.cover_list[0].url + '" alt="">'
                                                    }
                                                    demo1 += '</div>'
                                                    if (res.data.list[j].manuscript_list[y].row.ext_data.is_show_marker == 1) {
                                                        demo1 += '<div class="waiOpen">广告</div>'
                                                    } else {
                                                        demo1 += ''
                                                    }

                                                    demo1 += '</div>'
                                                    demo1 += '</div>'
                                                    demo1 += '</div>'
                                                    demo1 += '</a>'
                                                    demo1 += '</div>'
                                                } else if (res.data.list[j].manuscript_list[y].type == 6) { //直播不在这里显示
                                                    $(this).parent().hide()
                                                    demo1 += ''
                                                } else if (res.data.list[j].manuscript_list[y].type == 20) { //大图视频组
                                                    console.log("大图视频组视频组视频组视频组视频组")
                                                    demo1 += '<div class="newsubject-normal-item">'

                                                    demo1 += '<div class="detailBtn">'
                                                    demo1 += '<div class="group-box">'
                                                    for (var v = 0; v < res.data.list[j].manuscript_list[y].group.length; v++) {
                                                        demo1 += '<a style="margin-right:.3rem" class="flex-a" target="_blank" href="' + web_root_url + "/detail/" + res.data.list[j].manuscript_list[y].group[v].uuid + ".html" + '" title="">'
                                                        demo1 += '<div style="min-height:101%">'
                                                        demo1 += '<div class="group">'
                                                        demo1 += '<div class="bigCover">'

                                                        demo1 += '<img src="' + res.data.list[j].manuscript_list[y].group[v].cover + '" alt="">'
                                                        demo1 += '<img class="hot_player bigVideoBtn" src="https://static.bjnews.com.cn/www/v6/images/videoBtn.png" >'

                                                        demo1 += '</div>'
                                                        // demo1 += '<div class="bigCoverTitle line_2">'
                                                        demo1 += '<div class="bigCoverTitle">'
                                                        // demo1 += '<a href="' +web_root_url + "/detail/" + res.data.list[j].manuscript_list[0].group[v].uuid + ".html" + '" title="">'
                                                        demo1 += res.data.list[j].manuscript_list[y].group[v].title
                                                        // demo1 += '</a>'
                                                        demo1 += '</div>'
                                                        demo1 += '</div>'
                                                        demo1 += '</div>'
                                                        demo1 += '</a>'
                                                    }
                                                    demo1 += '</div>'

                                                    demo1 += '</div>'

                                                    demo1 += '</div>'

                                                } else { //大图非外链
                                                    demo1 += '<div class="newsubject-normal-item">'
                                                    if (res.data.list[j].manuscript_list[y].row.special_type == 4) { //h5专属链接
                                                        console.log("专题链接")
                                                        demo1 += '<a class="flex-a" href="' + web_root_url + "/h5special/" + res.data.list[j].manuscript_list[y].row.uuid + ".html" + '" title="" target="_blank">'
                                                    } else {
                                                        demo1 += '<a class="flex-a" href="' + web_root_url + "/detail/" + res.data.list[j].manuscript_list[y].row.uuid + ".html" + '" title="" target="_blank">'
                                                    }
                                                    demo1 += '<div class="detailBtn">'
                                                    demo1 += '<div>'
                                                    demo1 += '<div>'
                                                    if (res.data.list[j].manuscript_list[y].row.special_type == 5) {
                                                        // demo1 += '<div class="bigCoverTitle line_2"><span class="zt_style">专题</span>'          
                                                        demo1 += '<div class="bigCoverTitle"><span class="zt_style">专题</span>'
                                                        demo1 += res.data.list[j].manuscript_list[y].row.title
                                                        demo1 += '</div>'
                                                    } else {
                                                        // demo1 += '<div class="bigCoverTitle line_2">'
                                                        demo1 += '<div class="bigCoverTitle">'
                                                        demo1 += res.data.list[j].manuscript_list[y].row.title
                                                        demo1 += '</div>'
                                                    }
                                                    demo1 += '<div class="bigCover">'
                                                    if (res.data.list[j].manuscript_list[y].type == 2) { //2为视频(大图) 有视频图标
                                                        demo1 += '<img src="' + res.data.list[j].manuscript_list[y].row.cover + '" alt="">'
                                                        demo1 += '<img class="hot_player bigVideoBtn" src="https://static.bjnews.com.cn/www/v6/images/videoBtn.png" >'
                                                    } else if (res.data.list[j].manuscript_list[y].type == 21) {//,21为音频(大图) 有音频图标
                                                        demo1 += '<img src="' + res.data.list[j].manuscript_list[y].row.cover + '" alt="">'
                                                        demo1 += '<img class="hot_player bigVideoBtn" src="https://static.bjnews.com.cn/www/v6/images/videoBtn2.png" >'
                                                    } else {
                                                        demo1 += '<img src="' + res.data.list[j].manuscript_list[y].row.cover + '" alt="">'
                                                    }
                                                    demo1 += '</div>'
                                                    if (res.data.list[j].manuscript_list[y].type == 3) { //专题没有栏目但是有阅读量
                                                        if (res.data.list[j].manuscript_list[y].row.com_zan_num.length > 0) {
                                                            demo1 += '<div class="right_tag">'
                                                            demo1 += '<span style="display:inline-block">' + res.data.list[j].manuscript_list[y].row.com_zan_num + '</span>'
                                                            demo1 += '</div>'
                                                        }
                                                    } else {
                                                        demo1 += '<div class="right_tag">'
                                                        demo1 += res.data.list[j].manuscript_list[y].row.column_info.length>0 ? res.data.list[j].manuscript_list[y].row.column_info[0].column_name: ''; //栏目
                                                        demo1 += '<span style="padding-left:.2rem;display:inline-block">' + res.data.list[j].manuscript_list[y].row.com_zan_num + '</span>'
                                                        demo1 += '</div>'
                                                    }
                                                    demo1 += '</div>'
                                                    demo1 += '</div>'
                                                    demo1 += '</div>'
                                                    demo1 += '</a>'
                                                    demo1 += '</div>'
                                                }

                                                //无图模式
                                            } else if (res.data.list[j].manuscript_list[y].show_type == 3) {
                                                demo1 += '<div class="newsubject-normal-item">'
                                                demo1 += '<a class="flex-a" target="_blank" href="' + web_root_url + "/detail/" + res.data.list[j].manuscript_list[y].row.uuid + ".html" + '" title="">'
                                                demo1 += '<div class="detailBtn">'
                                                demo1 += '<div>'
                                                demo1 += '<div class="smallCoverTitle" style="width: 6.9rem;float: none;height: auto;min-height: 1rem;">'
                                                if (res.data.list[j].manuscript_list[y].row.special_type == 5) {
                                                    // demo1 += '<div class="right_title line_2" style="max-height: none;padding-bottom: .5rem;"><span class="zt_style">专题</span>'
                                                    demo1 += '<div class="right_title" style="max-height: none;padding-bottom: .5rem;"><span class="zt_style">专题</span>'
                                                    demo1 += res.data.list[j].manuscript_list[y].row.title
                                                    demo1 += '</div>'
                                                } else {
                                                    // demo1 += '<div class="right_title line_2" style="max-height: none;padding-bottom: .5rem;">'
                                                    demo1 += '<div class="right_title" style="max-height: none;padding-bottom: .5rem;">'
                                                    demo1 += res.data.list[j].manuscript_list[y].row.title
                                                    demo1 += '</div>'
                                                }
                                                demo1 += '<div class="right_tag">'
                                                demo1 += res.data.list[j].manuscript_list[y].row.column_info.length>0 ? res.data.list[j].manuscript_list[y].row.column_info[0].column_name: ''; //栏目
                                                demo1 += '<span style="padding-left:.2rem;display:inline-block">' + res.data.list[j].manuscript_list[y].row.com_zan_num + '</span>'
                                                demo1 += '</div>'
                                                if (perTimer < res.data.list[j].manuscript_list[y].row.publish_timestamp) {
                                                    demo1 += '<span class="right_time">' + format(res.data.list[j].manuscript_list[y].row.publish_timestamp) + '</span>'
                                                }
                                                demo1 += '</div>'
                                                demo1 += '</div>'
                                                demo1 += '</div>'
                                                demo1 += '</a>'
                                                demo1 += '</div>'
                                                //三图模式
                                            } else if (res.data.list[j].manuscript_list[y].show_type == 4) {
                                                demo1 += '<div class="newsubject-normal-item">'
                                                if (res.data.list[j].manuscript_list[y].type == 50) {
                                                    demo1 += '<div class="detailBtn" style="padding-bottom:.2rem">'
                                                } else {
                                                    demo1 += '<div class="detailBtn">'
                                                }

                                                demo1 += '<div>'
                                                demo1 += '<div>'
                                                // demo1 += '<div class="bigCoverTitle line_2">'
                                                demo1 += '<div class="bigCoverTitle">'
                                                if (res.data.list[j].manuscript_list[y].type == 50) {
                                                    demo1 += '<a href="' + res.data.list[j].manuscript_list[y].row.ext_data.article_url + '" title="">'
                                                } else {
                                                    demo1 += '<a href="' + web_root_url + "/detail/" + res.data.list[j].manuscript_list[y].row.uuid + ".html" + '" title="">'
                                                }
                                                demo1 += res.data.list[j].manuscript_list[y].row.title
                                                demo1 += '</a>'
                                                demo1 += '</div>'

                                                if (res.data.list[j].manuscript_list[y].type == 50) { //50外链 会显示广告，广告可以后台控制显示不显示
                                                    demo1 += '<div class="bigCover threeBigPic clearfix" style="margin-bottom:.2rem">'
                                                    for (var d = 0; d < res.data.list[j].manuscript_list[y].row.cover_list.length; d++) {
                                                        demo1 += '<div class="fl">'
                                                        demo1 += '<a href="' + res.data.list[j].manuscript_list[y].row.ext_data.article_url + '" title="">'
                                                        demo1 += '<img src="' + res.data.list[j].manuscript_list[y].row.cover_list[d].url + '" alt="">'
                                                        demo1 += '</a>'
                                                        demo1 += '</div>'
                                                    }
                                                    demo1 += '</div>'
                                                    if (res.data.list[j].manuscript_list[y].row.ext_data.is_show_marker == 1) {
                                                        demo1 += '<div class="waiOpen">广告</div>'
                                                    } else {
                                                        demo1 += ''
                                                        // demo1 += '<span class="right_tag">'+res.data.list[j].manuscript_list[y].row.column_info[0].column_name+'</span>'
                                                    }
                                                } else if (res.data.list[j].manuscript_list[y].type == 21) { //21为音频，会显示音频图标
                                                    demo1 += '<div class="bigCover threeBigPic clearfix">'
                                                    demo1 += '<div>'
                                                    for (var d = 0; d < res.data.list[j].manuscript_list[y].row.cover_list.length; d++) {
                                                        demo1 += '<div class="fl">'
                                                        demo1 += '<a href="' + web_root_url + "/detail/" + res.data.list[j].manuscript_list[y].row.uuid + ".html" + '" title="">'
                                                        demo1 += '<img src="' + res.data.list[j].manuscript_list[y].row.cover_list[d].url + '" alt="">'
                                                        demo1 += '</a>'
                                                        demo1 += '</div>'
                                                    }
                                                    demo1 += '</div>'
                                                    demo1 += '<img class="hot_player" style="left: 12%;top: 45%;" src="https://static.bjnews.com.cn/www/v6/images/videoBtn2.png">'
                                                    demo1 += '</div>'
                                                    demo1 += '<div class="right_tag">'
                                                    demo1 += res.data.list[j].manuscript_list[y].row.column_info.length>0 ? res.data.list[j].manuscript_list[y].row.column_info[0].column_name: ''; //栏目
                                                    demo1 += '<span style="padding-left:.2rem;display:inline-block">' + res.data.list[j].manuscript_list[y].row.com_zan_num + '</span>'
                                                    demo1 += '</div>'
                                                } else if (res.data.list[j].manuscript_list[y].type == 2) { //3图视频
                                                    demo1 += '<div class="bigCover threeBigPic clearfix">'
                                                    demo1 += '<div>'
                                                    for (var d = 0; d < res.data.list[j].manuscript_list[y].row.cover_list.length; d++) {
                                                        demo1 += '<div class="fl">'
                                                        demo1 += '<a href="' + web_root_url + "/detail/" + res.data.list[j].manuscript_list[y].row.uuid + ".html" + '" title="">'
                                                        demo1 += '<img src="' + res.data.list[j].manuscript_list[y].row.cover_list[d].url + '" alt="">'
                                                        demo1 += '</a>'
                                                        demo1 += '</div>'
                                                    }
                                                    demo1 += '</div>'
                                                    demo1 += '<img class="hot_player" style="left: 12%;top: 45%;" src="https://static.bjnews.com.cn/www/v6/images/videoBtn.png">'
                                                    demo1 += '</div>'
                                                    demo1 += '<div class="right_tag">'
                                                    demo1 += res.data.list[j].manuscript_list[y].row.column_info.length>0 ? res.data.list[j].manuscript_list[y].row.column_info[0].column_name: ''; //栏目
                                                    demo1 += '<span style="padding-left:.2rem;display:inline-block">' + res.data.list[j].manuscript_list[y].row.com_zan_num + '</span>'
                                                    demo1 += '</div>'
                                                } else {
                                                    demo1 += '<div class="bigCover threeBigPic clearfix">'
                                                    for (var d = 0; d < res.data.list[j].manuscript_list[y].row.cover_list.length; d++) {
                                                        demo1 += '<div class="fl">'
                                                        demo1 += '<a href="' + web_root_url + "/detail/" + res.data.list[j].manuscript_list[y].row.uuid + ".html" + '" title="">'
                                                        demo1 += '<img src="' + res.data.list[j].manuscript_list[y].row.cover_list[d].url + '" alt="">'
                                                        demo1 += '</a>'
                                                        demo1 += '</div>'
                                                    }
                                                    demo1 += '</div>'
                                                    demo1 += '<div class="right_tag">'
                                                    demo1 += res.data.list[j].manuscript_list[y].row.column_info.length>0 ? res.data.list[j].manuscript_list[y].row.column_info[0].column_name: ''; //栏目
                                                    demo1 += '<span style="padding-left:.2rem;display:inline-block">' + res.data.list[j].manuscript_list[y].row.com_zan_num + '</span>'
                                                    demo1 += '</div>'
                                                }
                                                demo1 += '</div>'
                                                demo1 += '</div>'
                                                demo1 += '</div>'
                                                demo1 += '</div>'
                                            } else if (res.data.list[j].manuscript_list[y].show_type == 0) {
                                                if (res.data.list[j].manuscript_list[y].type == 3) {
                                                    demo1 += '<div class="newsubject-normal-item">'
                                                    demo1 += '<a class="flex-a" href="' + web_root_url + (res.data.list[j].manuscript_list[y].row.special_type == 4 ? '/h5special/' : '/detail/') + res.data.list[j].manuscript_list[y].uuid + '.html" title="" target="_blank">'
                                                    demo1 += '<div class="detailBtn">'
                                                    demo1 += '<div>'
                                                    demo1 += '<div>'
                                                    // demo1 += '<div class="bigCoverTitle line_2">'+ res.data.list[j].manuscript_list[y].row.title +'</div>'
                                                    demo1 += '<div class="bigCoverTitle">' + res.data.list[j].manuscript_list[y].row.title + '</div>'
                                                    demo1 += '<div class="bigCoverChang"><img src="' + res.data.list[j].manuscript_list[y].row.cover + '" alt=""></div>'
                                                    if (res.data.list[j].manuscript_list[y].row.com_zan_num.length > 0) {
                                                        demo1 += '<div class="right_tag">'
                                                        demo1 += '<span style="display:inline-block">' + res.data.list[j].manuscript_list[y].row.com_zan_num + '</span>'
                                                        demo1 += '</div>'
                                                    }
                                                    demo1 += '</div>'
                                                    demo1 += '</div>'
                                                    demo1 += '</div>'
                                                    demo1 += '</a>'
                                                    demo1 += '</div>'
                                                }
                                            }
                                        }
                                        demo1 += '</div>'
                                        if(res.data.list[j].manuscript_list.length >= 10){
                                            demo1 += '<div class="'+res.data.list[j].module_id+'" data-page="2" data-module_id="'+res.data.list[j].module_id+'" onclick="fen(this)" style="color: #D12D2B;text-align:center;padding:10px;font-size:0.32rem;">查看更多</div>';
                                        }
                                    demo1 += '</div>'
                                }
                                demo1 += '</div>'
                            }
                            demo1 += '</div>'
                        }
                        $('.newsubject-list').append(demo1)
                        $('a').click(function (e) {
                            e.preventDefault()
                            e.stopPropagation()
                            var url = $(this).attr('href')
                            if (url !== window.location.href) {
                                var t = $(window, document, 'body').scrollTop()
                                sessionStorage.setItem('topDistance', t)
                            }
                            window.location.href = url
                        })
                        var ds = sessionStorage.getItem('topDistance')
                        if (ds) {
                            $('html, body').animate({
                                scrollTop: ds
                            }, false)
                            sessionStorage.setItem('topDistance', 0)
                        }

                    }
                },
                error: function () { }
            })
            fen = function (data){
                var dataPage = data.getAttribute('data-page');
                var dataModule_id = data.getAttribute('data-module_id');
                var dataCla = data.getAttribute("class")
                console.log(data,dataPage,dataModule_id)
                $.ajax({
                    headers: {
                        'version' : "v213",
                    },
                    url: api_root_url + "/news/special_module_article.php",
                    type: 'GET',     
                    dataType: "json",
                    data: { // 请求参数
                        uuid : uuid,
                        module_id: dataModule_id,
                        page: dataPage
                    },
                    success: function(res){
                        if(res.code==0){
                            demo1 = '';
                            j = 0;
                            var t = dataPage/1 + 1
                            data.setAttribute('data-page', t)
                            var neirT = subsequentData(res,0,data)
                            $("#module_" + dataCla + " .normal-list").append(neirT)
                        }
                        console.log(res)
                    },
                    error: function(){}
                })
            }
            function subsequentData(res,j,data){
                let demo1 = '';
                console.log(y,res.data.list[j].manuscript_list.length)
                if (res.data.list[j].manuscript_list.length < 10) {
                    data.style.display = "none"
                }
                for (var y = 0; y < res.data.list[j].manuscript_list.length; y++) {
                    //小图模式(左图右文)
                    if (res.data.list[j].manuscript_list[y].show_type == 1) {
                        demo1 += '<div class="newsubject-normal-item">'
                        if (res.data.list[j].manuscript_list[y].row.special_type == 4) { //h5专属链接
                            demo1 += '<a class="flex-a" href="' + web_root_url + "/h5special/" + res.data.list[j].manuscript_list[y].row.uuid + ".html" + '" title="" target="_blank">'
                        } else if (res.data.list[j].manuscript_list[y].type == 50) {
                            demo1 += '<a class="flex-a" target="_blank" tar href="' + res.data.list[j].manuscript_list[y].row.ext_data.article_url + '" title="">'
                        } else {
                            demo1 += '<a class="flex-a" href="' + web_root_url + "/detail/" + res.data.list[j].manuscript_list[y].row.uuid + ".html" + '" title="" target="_blank">'
                        }
                        demo1 += '<div class="detailBtn" style="padding:.3rem 0 .3rem .3rem">'
                        demo1 += '<div>'
                        demo1 += '<div class="smallCover">'
                        if (res.data.list[j].manuscript_list[y].type == 2) { //2为视频 有视频图标
                            demo1 += '<img src="' + res.data.list[j].manuscript_list[y].row.cover + '" alt="">'
                            demo1 += '<img class="hot_player" src="https://static.bjnews.com.cn/www/v6/images/videoBtn.png" >'

                        } else if (res.data.list[j].manuscript_list[y].type == 3 && res.data.list[j].manuscript_list[y].special_type == 4) {
                            //3为H5专题 链接和其他不同
                            demo1 += '<img src="' + res.data.list[j].manuscript_list[y].row.cover + '" alt="">'
                            demo1 += '<img class="hot_player" src="https://static.bjnews.com.cn/www/v6/images/videoBtn.png" >'

                        } else if (res.data.list[j].manuscript_list[y].type == 21) { //21为音频 有音频图标
                            demo1 += '<img src="' + res.data.list[j].manuscript_list[y].row.cover + '" alt="">'
                            demo1 += '<img class="hot_player" src="https://static.bjnews.com.cn/www/v6/images/videoBtn2.png" >'

                        } else if (res.data.list[j].manuscript_list[y].type == 50) {  //50为外链，链接和其他不同
                            demo1 += '<img src="' + res.data.list[j].manuscript_list[y].row.cover_list[0].url + '" alt="">'

                        } else {
                            demo1 += '<img src="' + res.data.list[j].manuscript_list[y].row.cover + '" alt="">'

                        }
                        demo1 += '</div>'
                        demo1 += '<div class="smallCoverTitle">'
                        if (res.data.list[j].manuscript_list[y].row.special_type == 5) {
                            // demo1 += '<div class="right_title line_2"><span class="zt_style">专题</span>';
                            demo1 += '<div class="right_title"><span class="zt_style">专题</span>'
                            demo1 += res.data.list[j].manuscript_list[y].row.title
                            demo1 += '</div>'
                        } else {
                            // demo1 += '<div class="right_title line_2">';
                            demo1 += '<div class="right_title">'
                            demo1 += res.data.list[j].manuscript_list[y].row.title
                            demo1 += '</div>'
                        }
                        if (res.data.list[j].manuscript_list[y].type == 50) { //外链
                            if (res.data.list[j].manuscript_list[y].row.ext_data.is_show_marker == 1) {
                                // demo1 += '<span class="waiOpen" style="position: absolute;bottom: 0;">广告</span>';
                                demo1 += '<span class="waiOpen">广告</span>'
                            } else {
                                demo1 += ''
                            }
                        } else {
                            demo1 += '<div class="right_tag">'
                            demo1 += res.data.list[j].manuscript_list[y].row.column_info.length>0 ? res.data.list[j].manuscript_list[y].row.column_info[0].column_name: ''; //栏目
                            demo1 += '<span style="padding-left:.2rem;display:inline-block">' + res.data.list[j].manuscript_list[y].row.com_zan_num + '</span>'
                            demo1 += '</div>'
                        }

                        if (perTimer < res.data.list[j].manuscript_list[y].row.publish_timestamp) {
                            demo1 += '<span class="right_time">' + format(res.data.list[j].manuscript_list[y].row.publish_timestamp) + '</span>'
                        }
                        demo1 += '</div>'
                        demo1 += '</div>'
                        demo1 += '</div>'
                        demo1 += '</a>'
                        demo1 += '</div>'
                        //show_type=2大图模式
                    } else if (res.data.list[j].manuscript_list[y].show_type == 2) {
                        if (res.data.list[j].manuscript_list[y].type == 50) { //50为外链
                            console.log("大图外链大图外链大图外链")
                            demo1 += '<div class="newsubject-normal-item">'
                            demo1 += '<a class="flex-a" target="_blank" href="' + res.data.list[j].manuscript_list[y].row.ext_data.article_url + '" title="">'
                            demo1 += '<div class="detailBtn" style="padding-bottom:.2rem">'
                            demo1 += '<div>'
                            demo1 += '<div>'
                            // demo1 += '<div class="bigCoverTitle line_2" style="margin-bottom: .3rem;">'+res.data.list[j].manuscript_list[y].row.title+'</div>';
                            demo1 += '<div class="bigCoverTitle" style="margin-bottom: .3rem;">' + res.data.list[j].manuscript_list[y].row.title + '</div>'
                            demo1 += '<div class="bigCover" style="margin-bottom:.2rem">'
                            if (res.data.list[j].manuscript_list[y].type == 2) { //2为视频 有视频图标
                                demo1 += '<img src="' + res.data.list[j].manuscript_list[y].row.cover_list[0].url + '" alt="">'
                                demo1 += '<img class="hot_player bigVideoBtn" src="https://static.bjnews.com.cn/www/v6/images/videoBtn.png" >'
                            } else if (res.data.list[j].manuscript_list[y].type == 21) { //21为音频 有音频图标
                                demo1 += '<img src="' + res.data.list[j].manuscript_list[y].row.cover_list[0].url + '" alt="">'
                                demo1 += '<img class="hot_player bigVideoBtn" src="https://static.bjnews.com.cn/www/v6/images/videoBtn2.png" >'
                            } else if (res.data.list[j].manuscript_list[y].type == 3 && res.data.list[j].manuscript_list[y].special_type == 4) { //3为h5专题 链接和其他不同
                                demo1 += '<img src="' + res.data.list[j].manuscript_list[y].row.cover_list[0].url + '" alt="">'
                                demo1 += '<img class="hot_player bigVideoBtn" src="https://static.bjnews.com.cn/www/v6/images/videoBtn.png" >'
                            } else {
                                demo1 += '<img src="' + res.data.list[j].manuscript_list[y].row.cover_list[0].url + '" alt="">'
                            }
                            demo1 += '</div>'
                            if (res.data.list[j].manuscript_list[y].row.ext_data.is_show_marker == 1) {
                                demo1 += '<div class="waiOpen">广告</div>'
                            } else {
                                demo1 += ''
                            }

                            demo1 += '</div>'
                            demo1 += '</div>'
                            demo1 += '</div>'
                            demo1 += '</a>'
                            demo1 += '</div>'
                        } else if (res.data.list[j].manuscript_list[y].type == 6) { //直播不在这里显示
                            $(this).parent().hide()
                            demo1 += ''
                        } else if (res.data.list[j].manuscript_list[y].type == 20) { //大图视频组
                            console.log("大图视频组视频组视频组视频组视频组")
                            demo1 += '<div class="newsubject-normal-item">'

                            demo1 += '<div class="detailBtn">'
                            demo1 += '<div class="group-box">'
                            for (var v = 0; v < res.data.list[j].manuscript_list[y].group.length; v++) {
                                demo1 += '<a style="margin-right:.3rem" class="flex-a" target="_blank" href="' + web_root_url + "/detail/" + res.data.list[j].manuscript_list[y].group[v].uuid + ".html" + '" title="">'
                                demo1 += '<div style="min-height:101%">'
                                demo1 += '<div class="group">'
                                demo1 += '<div class="bigCover">'

                                demo1 += '<img src="' + res.data.list[j].manuscript_list[y].group[v].cover + '" alt="">'
                                demo1 += '<img class="hot_player bigVideoBtn" src="https://static.bjnews.com.cn/www/v6/images/videoBtn.png" >'

                                demo1 += '</div>'
                                // demo1 += '<div class="bigCoverTitle line_2">'
                                demo1 += '<div class="bigCoverTitle">'
                                // demo1 += '<a href="' +web_root_url + "/detail/" + res.data.list[j].manuscript_list[0].group[v].uuid + ".html" + '" title="">'
                                demo1 += res.data.list[j].manuscript_list[y].group[v].title
                                // demo1 += '</a>'
                                demo1 += '</div>'
                                demo1 += '</div>'
                                demo1 += '</div>'
                                demo1 += '</a>'
                            }
                            demo1 += '</div>'

                            demo1 += '</div>'

                            demo1 += '</div>'

                        } else { //大图非外链
                            demo1 += '<div class="newsubject-normal-item">'
                            if (res.data.list[j].manuscript_list[y].row.special_type == 4) { //h5专属链接
                                console.log("专题链接")
                                demo1 += '<a class="flex-a" href="' + web_root_url + "/h5special/" + res.data.list[j].manuscript_list[y].row.uuid + ".html" + '" title="" target="_blank">'
                            } else {
                                demo1 += '<a class="flex-a" href="' + web_root_url + "/detail/" + res.data.list[j].manuscript_list[y].row.uuid + ".html" + '" title="" target="_blank">'
                            }
                            demo1 += '<div class="detailBtn">'
                            demo1 += '<div>'
                            demo1 += '<div>'
                            if (res.data.list[j].manuscript_list[y].row.special_type == 5) {
                                // demo1 += '<div class="bigCoverTitle line_2"><span class="zt_style">专题</span>'          
                                demo1 += '<div class="bigCoverTitle"><span class="zt_style">专题</span>'
                                demo1 += res.data.list[j].manuscript_list[y].row.title
                                demo1 += '</div>'
                            } else {
                                // demo1 += '<div class="bigCoverTitle line_2">'
                                demo1 += '<div class="bigCoverTitle">'
                                demo1 += res.data.list[j].manuscript_list[y].row.title
                                demo1 += '</div>'
                            }
                            demo1 += '<div class="bigCover">'
                            if (res.data.list[j].manuscript_list[y].type == 2) { //2为视频(大图) 有视频图标
                                demo1 += '<img src="' + res.data.list[j].manuscript_list[y].row.cover + '" alt="">'
                                demo1 += '<img class="hot_player bigVideoBtn" src="https://static.bjnews.com.cn/www/v6/images/videoBtn.png" >'
                            } else if (res.data.list[j].manuscript_list[y].type == 21) {//,21为音频(大图) 有音频图标
                                demo1 += '<img src="' + res.data.list[j].manuscript_list[y].row.cover + '" alt="">'
                                demo1 += '<img class="hot_player bigVideoBtn" src="https://static.bjnews.com.cn/www/v6/images/videoBtn2.png" >'
                            } else {
                                demo1 += '<img src="' + res.data.list[j].manuscript_list[y].row.cover + '" alt="">'
                            }
                            demo1 += '</div>'
                            if (res.data.list[j].manuscript_list[y].type == 3) { //专题没有栏目但是有阅读量
                                if (res.data.list[j].manuscript_list[y].row.com_zan_num.length > 0) {
                                    demo1 += '<div class="right_tag">'
                                    demo1 += '<span style="display:inline-block">' + res.data.list[j].manuscript_list[y].row.com_zan_num + '</span>'
                                    demo1 += '</div>'
                                }
                            } else {
                                demo1 += '<div class="right_tag">'
                                demo1 += res.data.list[j].manuscript_list[y].row.column_info.length>0 ? res.data.list[j].manuscript_list[y].row.column_info[0].column_name: ''; //栏目
                                demo1 += '<span style="padding-left:.2rem;display:inline-block">' + res.data.list[j].manuscript_list[y].row.com_zan_num + '</span>'
                                demo1 += '</div>'
                            }
                            demo1 += '</div>'
                            demo1 += '</div>'
                            demo1 += '</div>'
                            demo1 += '</a>'
                            demo1 += '</div>'
                        }

                        //无图模式
                    } else if (res.data.list[j].manuscript_list[y].show_type == 3) {
                        demo1 += '<div class="newsubject-normal-item">'
                        demo1 += '<a class="flex-a" target="_blank" href="' + web_root_url + "/detail/" + res.data.list[j].manuscript_list[y].row.uuid + ".html" + '" title="">'
                        demo1 += '<div class="detailBtn">'
                        demo1 += '<div>'
                        demo1 += '<div class="smallCoverTitle" style="width: 6.9rem;float: none;height: auto;min-height: 1rem;">'
                        if (res.data.list[j].manuscript_list[y].row.special_type == 5) {
                            // demo1 += '<div class="right_title line_2" style="max-height: none;padding-bottom: .5rem;"><span class="zt_style">专题</span>'
                            demo1 += '<div class="right_title" style="max-height: none;padding-bottom: .5rem;"><span class="zt_style">专题</span>'
                            demo1 += res.data.list[j].manuscript_list[y].row.title
                            demo1 += '</div>'
                        } else {
                            // demo1 += '<div class="right_title line_2" style="max-height: none;padding-bottom: .5rem;">'
                            demo1 += '<div class="right_title" style="max-height: none;padding-bottom: .5rem;">'
                            demo1 += res.data.list[j].manuscript_list[y].row.title
                            demo1 += '</div>'
                        }
                        demo1 += '<div class="right_tag">'
                        demo1 += res.data.list[j].manuscript_list[y].row.column_info.length>0 ? res.data.list[j].manuscript_list[y].row.column_info[0].column_name: ''; //栏目
                        demo1 += '<span style="padding-left:.2rem;display:inline-block">' + res.data.list[j].manuscript_list[y].row.com_zan_num + '</span>'
                        demo1 += '</div>'
                        if (perTimer < res.data.list[j].manuscript_list[y].row.publish_timestamp) {
                            demo1 += '<span class="right_time">' + format(res.data.list[j].manuscript_list[y].row.publish_timestamp) + '</span>'
                        }
                        demo1 += '</div>'
                        demo1 += '</div>'
                        demo1 += '</div>'
                        demo1 += '</a>'
                        demo1 += '</div>'
                        //三图模式
                    } else if (res.data.list[j].manuscript_list[y].show_type == 4) {
                        demo1 += '<div class="newsubject-normal-item">'
                        if (res.data.list[j].manuscript_list[y].type == 50) {
                            demo1 += '<div class="detailBtn" style="padding-bottom:.2rem">'
                        } else {
                            demo1 += '<div class="detailBtn">'
                        }

                        demo1 += '<div>'
                        demo1 += '<div>'
                        // demo1 += '<div class="bigCoverTitle line_2">'
                        demo1 += '<div class="bigCoverTitle">'
                        if (res.data.list[j].manuscript_list[y].type == 50) {
                            demo1 += '<a href="' + res.data.list[j].manuscript_list[y].row.ext_data.article_url + '" title="">'
                        } else {
                            demo1 += '<a href="' + web_root_url + "/detail/" + res.data.list[j].manuscript_list[y].row.uuid + ".html" + '" title="">'
                        }
                        demo1 += res.data.list[j].manuscript_list[y].row.title
                        demo1 += '</a>'
                        demo1 += '</div>'

                        if (res.data.list[j].manuscript_list[y].type == 50) { //50外链 会显示广告，广告可以后台控制显示不显示
                            demo1 += '<div class="bigCover threeBigPic clearfix" style="margin-bottom:.2rem">'
                            for (var d = 0; d < res.data.list[j].manuscript_list[y].row.cover_list.length; d++) {
                                demo1 += '<div class="fl">'
                                demo1 += '<a href="' + res.data.list[j].manuscript_list[y].row.ext_data.article_url + '" title="">'
                                demo1 += '<img src="' + res.data.list[j].manuscript_list[y].row.cover_list[d].url + '" alt="">'
                                demo1 += '</a>'
                                demo1 += '</div>'
                            }
                            demo1 += '</div>'
                            if (res.data.list[j].manuscript_list[y].row.ext_data.is_show_marker == 1) {
                                demo1 += '<div class="waiOpen">广告</div>'
                            } else {
                                demo1 += ''
                                // demo1 += '<span class="right_tag">'+res.data.list[j].manuscript_list[y].row.column_info[0].column_name+'</span>'
                            }
                        } else if (res.data.list[j].manuscript_list[y].type == 21) { //21为音频，会显示音频图标
                            demo1 += '<div class="bigCover threeBigPic clearfix">'
                            demo1 += '<div>'
                            for (var d = 0; d < res.data.list[j].manuscript_list[y].row.cover_list.length; d++) {
                                demo1 += '<div class="fl">'
                                demo1 += '<a href="' + web_root_url + "/detail/" + res.data.list[j].manuscript_list[y].row.uuid + ".html" + '" title="">'
                                demo1 += '<img src="' + res.data.list[j].manuscript_list[y].row.cover_list[d].url + '" alt="">'
                                demo1 += '</a>'
                                demo1 += '</div>'
                            }
                            demo1 += '</div>'
                            demo1 += '<img class="hot_player" style="left: 12%;top: 45%;" src="https://static.bjnews.com.cn/www/v6/images/videoBtn2.png">'
                            demo1 += '</div>'
                            demo1 += '<div class="right_tag">'
                            demo1 += res.data.list[j].manuscript_list[y].row.column_info.length>0 ? res.data.list[j].manuscript_list[y].row.column_info[0].column_name: ''; //栏目
                            demo1 += '<span style="padding-left:.2rem;display:inline-block">' + res.data.list[j].manuscript_list[y].row.com_zan_num + '</span>'
                            demo1 += '</div>'
                        } else if (res.data.list[j].manuscript_list[y].type == 2) { //3图视频
                            demo1 += '<div class="bigCover threeBigPic clearfix">'
                            demo1 += '<div>'
                            for (var d = 0; d < res.data.list[j].manuscript_list[y].row.cover_list.length; d++) {
                                demo1 += '<div class="fl">'
                                demo1 += '<a href="' + web_root_url + "/detail/" + res.data.list[j].manuscript_list[y].row.uuid + ".html" + '" title="">'
                                demo1 += '<img src="' + res.data.list[j].manuscript_list[y].row.cover_list[d].url + '" alt="">'
                                demo1 += '</a>'
                                demo1 += '</div>'
                            }
                            demo1 += '</div>'
                            demo1 += '<img class="hot_player" style="left: 12%;top: 45%;" src="https://static.bjnews.com.cn/www/v6/images/videoBtn.png">'
                            demo1 += '</div>'
                            demo1 += '<div class="right_tag">'
                            demo1 += res.data.list[j].manuscript_list[y].row.column_info.length>0 ? res.data.list[j].manuscript_list[y].row.column_info[0].column_name: ''; //栏目
                            demo1 += '<span style="padding-left:.2rem;display:inline-block">' + res.data.list[j].manuscript_list[y].row.com_zan_num + '</span>'
                            demo1 += '</div>'
                        } else {
                            demo1 += '<div class="bigCover threeBigPic clearfix">'
                            for (var d = 0; d < res.data.list[j].manuscript_list[y].row.cover_list.length; d++) {
                                demo1 += '<div class="fl">'
                                demo1 += '<a href="' + web_root_url + "/detail/" + res.data.list[j].manuscript_list[y].row.uuid + ".html" + '" title="">'
                                demo1 += '<img src="' + res.data.list[j].manuscript_list[y].row.cover_list[d].url + '" alt="">'
                                demo1 += '</a>'
                                demo1 += '</div>'
                            }
                            demo1 += '</div>'
                            demo1 += '<div class="right_tag">'
                            demo1 += res.data.list[j].manuscript_list[y].row.column_info.length>0 ? res.data.list[j].manuscript_list[y].row.column_info[0].column_name: ''; //栏目
                            demo1 += '<span style="padding-left:.2rem;display:inline-block">' + res.data.list[j].manuscript_list[y].row.com_zan_num + '</span>'
                            demo1 += '</div>'
                        }
                        demo1 += '</div>'
                        demo1 += '</div>'
                        demo1 += '</div>'
                        demo1 += '</div>'
                    } else if (res.data.list[j].manuscript_list[y].show_type == 0) {
                        if (res.data.list[j].manuscript_list[y].type == 3) {
                            demo1 += '<div class="newsubject-normal-item">'
                            demo1 += '<a class="flex-a" href="' + web_root_url + (res.data.list[j].manuscript_list[y].row.special_type == 4 ? '/h5special/' : '/detail/') + res.data.list[j].manuscript_list[y].uuid + '.html" title="" target="_blank">'
                            demo1 += '<div class="detailBtn">'
                            demo1 += '<div>'
                            demo1 += '<div>'
                            // demo1 += '<div class="bigCoverTitle line_2">'+ res.data.list[j].manuscript_list[y].row.title +'</div>'
                            demo1 += '<div class="bigCoverTitle">' + res.data.list[j].manuscript_list[y].row.title + '</div>'
                            demo1 += '<div class="bigCoverChang"><img src="' + res.data.list[j].manuscript_list[y].row.cover + '" alt=""></div>'
                            if (res.data.list[j].manuscript_list[y].row.com_zan_num.length > 0) {
                                demo1 += '<div class="right_tag">'
                                demo1 += '<span style="display:inline-block">' + res.data.list[j].manuscript_list[y].row.com_zan_num + '</span>'
                                demo1 += '</div>'
                            }
                            demo1 += '</div>'
                            demo1 += '</div>'
                            demo1 += '</div>'
                            demo1 += '</a>'
                            demo1 += '</div>'
                        }
                    }
                    

                }
                return demo1
            }
            // 记录分享行为
            var urlSearch = window.location.href.substring(window.location.href.indexOf("?") + 1) || ""
            let shareuser = ""
            let searchArr = urlSearch.split("&")
            searchArr.forEach((item, index) => {
                let ab = item.split("=")
                if (ab[0] === 'shareuser') {
                    shareuser = ab[1]
                }
            })
            console.log('special', shareuser)
            if (shareuser) {
                $.ajax({
                    type: 'GET',
                    url: web_root_url + '/japi/pv?article_uuid=' + uuid + '&user_uuid=' + shareuser,
                    dataType: 'JSON',
                    success: function (st) {
                        if (st.suc == 1 && st.info == 'success') {
                        } else {
                        }
                    },
                    error: function () { }
                })
            }
        })

        $(function (){
            //新时间线排序筛选从这开始
            $(document).on('click', '.paixu_right', function(){
                $(this).next().toggle();
                $(this).prev().toggle();
            });
            // 定义一个变量来存储当前的排序方式
            var currentOrder = "importan";


            // 给每个p标签添加点击事件
            $(document).on('click', '.paixu_right_nav p', function(){
                var _this = this
                $(".paixu_right_nav").hide();
                $(".overlay").hide();
                console.log("点击排序")
                // 移除其他p标签的选中状态
                $(".paixu_right_nav p").removeClass("selected");
                // 添加当前点击的p标签的选中状态
                $(this).addClass("selected");
                // 根据点击的p标签设置当前的排序方式
                if ($(this).hasClass("zhongyao")) {
                    currentOrder = "importan";
                } else if ($(this).hasClass("daoxu")) {
                    currentOrder = "desc";
                } else if ($(this).hasClass("zhengxu")) {
                    currentOrder = "asc";
                }



                $.ajax({
                    type: "GET",
                    url: api_root_url + '/news/special_detail.php',
                    dataType: 'json',
                    headers: {
                        version: 'v214',
                    },
                    data: {
                        uuid: uuid,
                        order: currentOrder,
                    },
                    success: function success(res) {
                        if (res.code == 0) {
                            //判断颜色
                            setTimeout(function() {
                                if(res.data.ext_data.special_color == 1){
                                    $(".red_line").addClass("red_line");
                                    $(".shijian li .round").css("border",".04rem solid #d12d2b");
                                    $(".shijian .time").css("background","#d12d2b");
                                    $(".shijian .time i").css("borderRight","0.2rem solid #d12d2b");
                                    $(".descBtn").css("color","#d12d2b");
                                    $(".descBtn_over").css("color","#d12d2b");
                                    $(".viewMoreNormal").css("color","#d12d2b");
                                    $(".chakan_more").css("color","#d12d2b");
                                }else if(res.data.ext_data.special_color == 2){
                                    $(".red_line").addClass("blue_line");
                                    $(".shijian li .round").css("border",".04rem solid #146AEA");
                                    $(".shijian .time").css("background","#146AEA");
                                    $(".shijian .time i").css("borderRight","0.2rem solid #146AEA");
                                    $(".descBtn").css("color","#146AEA");
                                    $(".descBtn_over").css("color","#146AEA");
                                    $(".viewMoreNormal").css("color","#146AEA")
                                    $(".chakan_more").css("color","#146AEA");
                                }else if(res.data.ext_data.special_color == 3){
                                    $(".red_line").addClass("grey_line");
                                    $(".shijian li .round").css("border",".04rem solid #ccc");
                                    $(".shijian .time").css("background","#ccc");
                                    $(".shijian .time i").css("borderRight","0.2rem solid #ccc");
                                    $(".descBtn").css("color","#ccc");
                                    $(".descBtn_over").css("color","#ccc");
                                    $(".viewMoreNormal").css("color","#ccc")
                                    $(".chakan_more").css("color","#ccc");
                                }
                            }, 100);
                                

                            //首先清空ul里的内容
                            var currentId = $(_this).attr('data-id');  
                            var ten = "#module_" + currentId + " .shijian ul";  
                            const timeBoxElements = $(ten);
                            timeBoxElements.html('')


                            //下面是DOM结构
                            var demo1 = ''
                            for (var j = 0; j < res.data.list.length; j++) {                                
                                demo1 += '<div id="module_' + res.data.list[j].module_id + '">'
                               
                                if (res.data.list[j].module_type == 8){
                                    console.log("看看是否进入到了新时间线这里")
                                    if (res.data.list[j].event_list.length > 0) {                                        
                                        // demo1 += '<div class="shijian">'
                                            demo1 += '<ul>'
                                                var currentId = $(_this).data('id'); // 获取当前点击的p标签的data-id值
                                                if( currentId == res.data.list[j].module_id ){ //比对
                                                    console.log("比对这里")
                                                    console.log(currentId)
                                                    console.log(res.data.list[j].module_id)
    




                                                    for (var y = 0; y < res.data.list[j].event_list.length; y++) {
                                                        demo1 += '<li>'
                                                        demo1 += '<i class="round"></i>'
                                                        //时间节点
                                                        if(res.data.list[j].event_list[y].node_desc != null){
                                                            demo1 += '<span class="time"><i></i>' + res.data.list[j].event_list[y].node_desc + '</span>'
                                                        }else{
                                                            demo1 += ''
                                                        }
                                                        // 新增时间事件标题
                                                        if(res.data.list[j].event_list[y].outside_url != ""){//外链
                                                            demo1 += '<a href="'+ res.data.list[j].event_list[y].outside_url +'">';
                                                                demo1 += '<p class="time_big_title">'+(res.data.list[j].event_list[y].event_title ? res.data.list[j].event_list[y].event_title : '')+'</p>';
                                                                demo1 += '<p>'+ res.data.list[j].event_list[y].content +'</p>'; 
                                                            demo1 += '</a>';
                                                        }else{//uuid
                                                            demo1 += `<p class="time_big_title" onclick="goHTML('${res.data.list[j].event_list[y].article_type || ""}','${res.data.list[j].event_list[y].article_uuid || ""}')">${(res.data.list[j].event_list[y].event_title ? res.data.list[j].event_list[y].event_title : '')}</p>`
                                                            demo1 += `<p style="cursor: pointer" onclick="goHTML('${res.data.list[j].event_list[y].article_type || ""}','${res.data.list[j].event_list[y].article_uuid || ""}')">${res.data.list[j].event_list[y].content}</p>`
                                                        }
                                                        
                                                        //下面判断图片的情况
                                                        if( res.data.list[j].event_list[y].img_data.length != '' && res.data.list[j].event_list[y].img_data.length > 1 ){//多张图
                                                            demo1 += '<div class="time_images">';
                                                                demo1 += '<div class="swiper-container swiper-container-horizontal swiper-container-ios hotspot-swiper">';
                                                                    demo1 += '<div class="swiper-wrapper">';
                                                                    for( let k = 0; k < res.data.list[j].event_list[y].img_data.length; k++ ){
                                                                        demo1 += '<div class="swiper-slide">';
                                                                            demo1 += '<div class="swiper-zoom-container">'

                                                                                if(res.data.list[j].event_list[y].outside_url != ""){
                                                                                    demo1 += '<a href="'+ res.data.list[j].event_list[y].outside_url +'">'
                                                                                        demo1 += '<img class="time_lunboimg" alt="" src="' + res.data.list[j].event_list[y].img_data[k].image_url + '">'
                                                                                        demo1 += '<p class="moreimg_desc">'+ res.data.list[j].event_list[y].img_data[k].desc +'</p>';
                                                                                    demo1 += '</a>'
                                                                                }else{
                                                                                    demo1 += `<a onclick="goHTML('${res.data.list[j].event_list[y].article_type || ""}','${res.data.list[j].event_list[y].article_uuid || ""}')">`
                                                                                        demo1 += '<img class="time_lunboimg" alt="" src="' + res.data.list[j].event_list[y].img_data[k].image_url + '">'
                                                                                        demo1 += '<p class="moreimg_desc">'+ res.data.list[j].event_list[y].img_data[k].desc +'</p>';
                                                                                    demo1 += '</a>'
                                                                                }

                                                                            demo1 += '</div>';
                                                                        demo1 += '</div>';
                                                                    }                                                   
                                                                    demo1 += '</div>';             
                                                                demo1 += '</div>'; 
                                                                demo1 += '<div class="swiper-pagination swiper-pagination-white"></div>' 
                                                            demo1 += '</div>';

                                                            //时间线轮播图
                                                            setTimeout(function() {
                                                                var mySwiper = new Swiper('.hotspot-swiper', {
                                                                    direction: 'horizontal', //横向切换选项
                                                                    loop: false, //循环模式选项
                                                                    slidesPerView: 'auto'
                                                                });
                                                            }, 2000);
                                                            

                                                        }else if( res.data.list[j].event_list[y].img_data.length != '' ){//一张图
                                                            demo1 += '<div class="one_image">';
                                                                if(res.data.list[j].event_list[y].outside_url != ""){//外链
                                                                    demo1 += '<a href="'+ res.data.list[j].event_list[y].outside_url +'">'
                                                                        demo1 += '<img src="' + res.data.list[j].event_list[y].img_data[0].image_url +'">';
                                                                        demo1 += '<p class="image_miaoshu">'+ res.data.list[j].event_list[y].img_data[0].desc +'</p>';
                                                                    demo1 += '</a>'
                                                                }else{
                                                                    demo1 += `<a onclick="goHTML('${res.data.list[j].event_list[y].article_type || ""}','${res.data.list[j].event_list[y].article_uuid || ""}')">`
                                                                        demo1 += '<img src="' + res.data.list[j].event_list[y].img_data[0].image_url +'">';
                                                                        demo1 += '<p class="image_miaoshu">'+ res.data.list[j].event_list[y].img_data[0].desc +'</p>';
                                                                    demo1 += '</a>'
                                                                }

                                                            demo1 += '</div>';
                                                        }
                                                        //下面判断视频的情况
                                                        if(res.data.list[j].event_list[y].video_data.length != ''){
                                                            for( let z = 0; z < res.data.list[j].event_list[y].video_data.length; z++ ){
                                                                demo1 += '<div class="video_lists">';
                                                                    demo1 += "<video id=\"video\" class=\"video-js pc_video vjs-big-play-centered\" x-webkit-airplay=\"allow\" poster=\"" + res.data.list[j].event_list[y].video_data[z].video_cover + ("\" webkit-playsinline playsinline x5-video-player-type=\"h5\" x5-video-player-fullscreen=\"true\" preload=\"auto\" src=\"" + res.data.list[j].event_list[y].video_data[z].video_url + "\" style=\"width:100%; height: 4.22rem; border-radius:.16rem\" controls=\"controls\">");
                                                                        demo1 += "<source src=\"" + res.data.list[j].event_list[y].video_data[z].video_url + "\"  type=\"" + (res.data.list[j].event_list[y].video_data[z].video_url.toLowerCase().indexOf('.m3u8') != -1 ? 'application/x-mpegURL' : 'video/mp4') + "\">";
                                                                    demo1 += ' </video>';
                                                                    demo1 += '<p class="image_miaoshu">'+res.data.list[j].event_list[y].video_data[z].desc+'</p>';
                                                                demo1 += '</div>';
                                                            }
                                                        }
                                                        //下面判断如果是音频
                                                        if(res.data.list[j].event_list[y].audio_data.length != ''){
                                                            for( let k = 0; k < res.data.list[j].event_list[y].audio_data.length; k++ ){
                                                                demo1 += '<div class="audio_list">';
                                                                demo1 += '<div class="audio">';
                                                                demo1 += '<audio controls>';
                                                                demo1 += '<source src="'+res.data.list[j].event_list[y].audio_data[k].audio_url+'" type="audio/mpeg">';
                                                                demo1 += '</audio>';
                                                                demo1 += '<p class="image_miaoshu">'+res.data.list[j].event_list[y].audio_data[k].desc+'</p>';
                                                                demo1 += '</div>';
                                                                demo1 += '</div>';
                                                            }
                                                        }


                                                        
                                                       
                                                        
                                                        
                                                        demo1 += '</li>'
                                                    }
                                           
                                                
                                                
                                                
                                                }



                                            demo1 += '</ul>'
                                        // demo1 += '</div>'
                                    }
                                }
                            
                                demo1 += '</div>'
                           
                            }
                            timeBoxElements.html(demo1)
                            // var parentID = $(this).parents('[id]').attr('id');
                            // $('#' + parentID + ' .shijian').append(demo1);

                            
                            // 筛选里面的音频视频处理
                            setTimeout(() => {
                                var r = Math.floor(Math.random() * 100)
                                $(".video-js").each(function (index, element) {
                                    var videoUrl = $(this).attr("src");
                                    var videoCover = $(this).attr("poster");
                                    if (videoUrl) {
                                        if (videoUrl.split(".").pop() === 'm3u8') {
                                            var video = '<video id="my-video' + index + r +'" class="video-js vjs-big-play-centered" controls preload="auto" width="100%" poster="' + videoCover + '"'
                                                + 'data-setup="{}" src="' + videoUrl + '">'
                                                + '<source src="' + videoUrl + '" type="application/x-mpegURL" />'
                                                + '</video>';
                                            $(this).replaceWith(video);
                                        } else {
                                            var video = '<video id="my-video' + index + r +'" class="video-js vjs-big-play-centered" controls preload="auto" width="100%" poster="' + videoCover + '"'
                                                + 'data-setup="{}" src="' + videoUrl + '">'
                                                + '<source src="' + videoUrl + '" type="video/mp4" />'
                                                + '<source src="'+ videoUrl +'" type="video/webm" />'
                                                + '<source src="'+ videoUrl +'" type="video/ogg" />'
                                                + '</video>';
                                            $(this).replaceWithl(video);
                                        }
                                        var my = 'my-video' + index + r
                                        my = videojs(my);
                                        my.on("play", function () {
                                            console.log('+++++++', this.id_)
                                            nameAllPause(this.id_)
                                            pauseAll()
                                        })
                                    }
                                });

                                var audios = document.getElementsByTagName("audio");
                                function pauseAll() {
                                    var self = this;
                                    console.log(self);
                                    [].forEach.call(audios, function (i) {
                                        i !== self && i.pause();
                                        console.log(i !== self && i.pause())
                                    })
                                }
                                [].forEach.call(audios, function (i) {
                                    i.addEventListener("play",function(){
                                        console.log(i)
                                        pauseAll.bind(i)()
                                        nameAllPause()
                                    }.bind(i));
                                })
                                function nameAllPause(params) {
                                    $('.video-js').each(function(index, element) {
                                        if($(this).attr('id') !== params || params=== undefined){
                                            // console.log(params)
                                            my = $(this).attr('id')
                                            videojs(my).pause();
                                            console.log(my)
                                            // pauseAll()
                                        }
                                    })
                                }
                            }, 200);



                        }
                    },
                    error: function() {}
                });
            });
        })


        var t = 0
        function videojsnn (dom) {
            console.log('数据过来了', dom)

            setTimeout(function () {
                if (t > 10) {
                    t = 0
                    return
                }
                t++
                if ($('.video-js').length > 0) {
                    videoName = videojs(dom)
                    videoName.on("play", function () {
                        console.log(123)
                    })
                    return
                } else {
                    videojsnn('video')
                }
            }, 1000)

        }


        // 保利威视频初始化
        function polyvLoading (channelId) {
            console.log('保利威视频初始化', channelId)
            var player = polyvLivePlayer({
                wrap: "#player",
                // width: 400,
                height: '4.22rem',
                uid: POLYV_UID, //用户id，即开发者信息下的userId（账号ID）
                vid: channelId, // 频道id,即频道号
                isAutoChange: true,
            })
        }
    </script>

    <!-- <script type="text/javascript" src="https://static.bjnews.com.cn/www/v5/js/swiper-bundle.min.js"></script> -->
    <script src="https://static.bjnews.com.cn/wap/js/swiper.js"></script>
    <script src="https://res.wx.qq.com/open/js/jweixin-1.6.0.js"></script>


    <!--分享-->
    <script>
        var web_root_shareUrl = "https://m.bjnews.com.cn"
        var api_root_url = "https://api.bjnews.com.cn/api/v101/"
        $.ajax({
            type: "GET",
            url: "https://m.bjnews.com.cn/api/wxshare?app_id=wxbad48ed25d961bb9",
            dataType: 'json',
            success: function (data) {
                var signpackage = data.signpackage
                wx.config({
                    //debug: true,
                    // appId: "wxbad48ed25d961bb9", // 必填，公众号的唯一标识
                    appId: "wxbad48ed25d961bb9", // 必填，公众号的唯一标识
                    timestamp: signpackage.timestamp, // 必填，生成签名的时间戳
                    nonceStr: signpackage.nonceStr, // 必填，生成签名的随机串
                    signature: signpackage.signature, // 必填，签名，见附录1
                    jsApiList: [
                        'checkJsApi',
                        'onMenuShareTimeline',
                        'onMenuShareAppMessage'
                    ],
                    openTagList: ['wx-open-launch-app']
                })
            },
            error: function () { }
        })

        // 新时间线点击标题跳转稿件页
        function goHTML (type, uuid) {
            console.log('goHTML-type', type, uuid)
            // web_root_url:域名前缀
            if (!!type && !!uuid) {
                if (type === 'article'//图文
                    || type === 'xinjinghao'//新京号
                    || type === 'audio'//：音频
                    || type === 'video'//视频
                    || type === 'live'//：直播
                    || type === 'normalSpecial'//：普通专题
                    || type === 'special_3'//：专题3专题
                    || type === 'newSubject'//：新专题  
                    || type === 'imageSays'//：图说
                    || type === 'article_special'//：图文专题
                    || type === 'newSpecial'//新型专题
                    || type === 'ai' //ai稿件
                ) {
                    window.location.href = web_root_url + '/detail/' + uuid + '.html'
                } else if (
                    type === 'h5Special'//：h5专题
                ) {
                    window.location.href = web_root_url + '/h5special/' + uuid + '.html'
                } else if (
                    type === "no_special"//非专题
                    || type === 'fast' //快讯
                    || type === 'video_group' //快讯
                ) {
                }
            }
        }

        //新时间线-换算分钟前
        function changeBeforeTime (beforetime, time) {
            var beforeFulltime = new Date(beforetime)
            beforetime = beforeFulltime.getTime()

            var date = new Date().getTime()
            var dateYear = new Date
            var dateYear = dateYear.getFullYear()
            var diffTime = date / 1000 - beforetime //毫秒
            var h = 0
            var m = 0
            var s = parseInt(diffTime, 0)
            m = parseInt(s / 60, 0)
            h = parseInt(m / 60, 0)
            if (h >= 1) {
                if (h >= 48) {
                    let fullTime = new Date(beforetime * 1000)
                    var beforeYear = fullTime.getFullYear()
                    var month = fullTime.getMonth() + 1 // 获取月份
                    var day = fullTime.getDate() // 获取具体日

                    if (dateYear === beforeYear) {
                        return month + "月" + day + "日"
                    } else {
                        return beforeYear + '年' + month + '月' + day + '日'
                    }
                } else if (h >= 24 && h < 48) {
                    return '1天前'
                } else {
                    return h + '小时前'
                }
            } else {
                return m + '分钟前'
            }
        }


        wx.ready(function () {

            var share_uuid = "161769822515511"
            // 获取url分享后缀
            var wxurlSearch = window.location.href.substring(window.location.href.indexOf("?") + 1) || ""
            let wxshareuser = ""//url 分享信息
            if (wxurlSearch) {
                let wxsearchArr = wxurlSearch.split("&")
                wxsearchArr.forEach((item, index) => {
                    let ab = item.split("=")
                    if (ab[0] === 'shareuser') {
                        wxshareuser = item
                    }
                })
            }

            // 处理分享链接
            var shareLinkUrl
            shareLinkUrl = web_root_url + "/detail/" + share_uuid + ".html"
            if (wxshareuser) {
                shareLinkUrl = shareLinkUrl + "?" + wxshareuser
            }

            //分享到朋友圈
            wx.onMenuShareTimeline({
                title: "习近平总书记最新报道集", // 分享标题
                link: shareLinkUrl, // 分享链接
                imgUrl: "https://media.bjnews.com.cn/share_icon.jpg", // 分享图标
                success: function() {
                    // 用户确认分享后执行的回调函数
                    addShare(share_uuid)
                },
                error: function () { }
            })
            //分享给朋友
            wx.onMenuShareAppMessage({
                title: "习近平总书记最新报道集", // 分享标题
                desc: "新京报客户端", // 分享描述
                imgUrl: "https://media.bjnews.com.cn/share_icon.jpg", // 分享图标
                link: shareLinkUrl, // 分享链接
                success: function () {
                    // 用户确认分享后执行的回调函数
                    addShare(share_uuid)
                },
                error: function () { }
            })

        })
        //         var btn = document.getElementById('launch-btn');
        //         btn.addEventListener('launch', function (e) {
        //             // alert('lanuch成功');
        //         });
        //         btn.addEventListener('error', function (e) {
        //             // alert($.param(e.detail))
        //             window.location.href = web_root_shareUrl + "/guide/downv2?uuid=//&show_type=//&show_uuid=//";
        //         });
        var bt = document.getElementById('laun-btn')
        bt.addEventListener('launch', function (e) {
            // alert('lanuch成功');
        })
        bt.addEventListener('error', function (e) {
            // alert($.param(e.detail))
            window.location.href = web_root_shareUrl + "/guide/downv2?uuid=161769822515511&show_type=special_3&show_uuid=161769822515511"
        })

        // http://media.bjnews.com.cn/cover/2018/10/23/4718848542783908868.jpg?x-oss-process=image/resize,m_fill,h_300,w_300
        function addShare (uuid) {
            $.ajax({
                type: "GET",
                url: web_root_shareUrl + "/api/addshare?uuid=" + uuid,
                dataType: 'json',
                success: function (data) {
                    //...
                },
                error: function () { }
            })
        }
    </script>

</body>
</html>